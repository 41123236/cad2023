<h1>About</h1>
<p><a href="https://github.com/mdecycu/cmsite"> https://github.com/mdecycu/cmsite</a></p>
<h1>作業區</h1>
<h2>組合圖</h2>
<p><img alt="" height="607" src="/images/螢幕擷取畫面 2023-11-15 174333.png" width="800"/></p>
<p><br/><br/>零件圖<img alt="" height="401" src="/images/螢幕擷取畫面 2023-11-15 175005.png" width="562"/><img alt="" height="606" src="/images/螢幕擷取畫面 2023-11-15 174826.png" width="800"/><img alt="" height="397" src="/images/螢幕擷取畫面 2023-11-15 174751.png" width="800"/> <br/><img alt="" height="620" src="/images/螢幕擷取畫面 2023-11-15 175026.png" width="197"/><img alt="" height="508" src="/images/螢幕擷取畫面 2023-11-15 174512.png" width="800"/></p>
<h1>Brython</h1>
<p></p>
<p><a href="https://en.wikipedia.org/wiki/Python_(programming_language)">https://en.wikipedia.org/wiki/Python_(programming_language)</a></p>
<h4>Examples:</h4>
<p style="padding-left: 30px;"><a href="https://gist.github.com/mdecycu/d9082d678096bd58378d6afe2c7fa05d">https://gist.github.com/mdecycu/d9082d678096bd58378d6afe2c7fa05d</a></p>
<p style="padding-left: 30px;"><a href="https://www.geeksforgeeks.org/python-programming-examples/">https://www.geeksforgeeks.org/python-programming-examples/</a></p>
<p style="padding-left: 30px;"><a href="https://www.programiz.com/python-programming/examples">https://www.programiz.com/python-programming/examples</a></p>
<p style="padding-left: 30px;"><a href="https://www.freecodecamp.org/news/python-code-examples-sample-script-coding-tutorial-for-beginners/">https://www.freecodecamp.org/news/python-code-examples-sample-script-coding-tutorial-for-beginners/</a></p>
<h4>Python Tutorial:</h4>
<p style="padding-left: 30px;"><a href="https://docs.python.org/3/tutorial/">https://docs.python.org/3/tutorial/</a></p>
<p style="padding-left: 30px;"><a href="https://docs.python.org/3/tutorial/introduction.html">An informal introduction to Python</a></p>
<h4>Indentation (Python 採 4 個 Spaces 縮排, 以界定執行範圍)</h4>
<h4>Variables (<a href="https://github.com/python/cpython/blob/3.11/Lib/keyword.py">Python Keywords</a>)</h4>
<h4>Comments (# 單行註解, 三個單引號或三個雙引號標註多行註解)</h4>
<h4><a href="https://docs.python.org/3/tutorial/introduction.html#numbers">Numbers</a> (整數 int(), 浮點數 float())</h4>
<h4><a href="https://docs.python.org/3/tutorial/introduction.html#strings">Strings</a> (字串)</h4>
<h4>print (Python 內建函式, <a href="https://docs.python.org/3/library/functions.html#print">print()</a> 函式)</h4>
<p><a href="https://docs.python.org/3/tutorial/controlflow.html">Python control flow tools</a></p>
<h4 style="padding-left: 30px;"><a href="https://docs.python.org/3/tutorial/controlflow.html#for-statements">for</a></h4>
<h4 style="padding-left: 30px;"><a href="https://docs.python.org/3/tutorial/controlflow.html#if-statements">if</a></h4>
<h4 style="padding-left: 30px;"><a href="https://docs.python.org/3/tutorial/controlflow.html#the-range-function">range</a></h4>
<h4>open</h4>
<h4>read</h4>
<h4><a href="https://docs.python.org/3/tutorial/introduction.html#lists">lists</a></h4>
<h4><a href="https://docs.python.org/3/tutorial/datastructures.html#tuples-and-sequences">tuples</a></h4>
<h4><a href="https://docs.python.org/3/tutorial/datastructures.html#dictionaries">dictionaries</a></h4>
<h4><a href="https://docs.python.org/3/tutorial/controlflow.html#defining-functions">functions</a></h4>
<h4><a href="https://docs.python.org/3/tutorial/errors.html#exceptions">try ... except</a></h4>
<h4><a href="https://docs.python.org/3/tutorial/controlflow.html#break-and-continue-statements-and-else-clauses-on-loops">break</a></h4>
<h4><a href="https://docs.python.org/3/tutorial/controlflow.html#pass-statements">pass</a></h4>
<h4><a href="https://docs.python.org/3/tutorial/classes.html?highlight=classes">classes</a></h4>
<p>這個頁面 demo 如何在同一頁面下納入多個線上 Ace 編輯器與執行按鈕 (<a href="/downloads/practice_html.txt">practice_html.txt</a> 動態頁面超文件).</p>
<p><a href="/downloads/practice_html.txt">practice_html.txt</a> 動態頁面超文件應該可以在啟動 Brython 時, 設定將 .py 檔案放入 downloads/py 目錄中引用.</p>
<p>亦即將所有對應的 html 也使用 Brython 產生, 然後寫為 <a href="https://docs.python.org/3/tutorial/classes.html">class</a> 後, 在範例導入時透過 <a href="https://docs.python.org/3/tutorial/classes.html#instance-objects">instance</a> 引用.</p>
<pre class="brush:html;auto-links:false;toolbar:false" contenteditable="false">&lt;!-- 啟動 Brython --&gt;
&lt;script&gt;
window.onload=function(){
brython({debug:1, pythonpath:['/static/','./../downloads/py/']});
}
&lt;/script&gt;</pre>
<p>從 1 累加到 100:</p>
<p><button id="add1to100">1 add to 100</button></p>
<p>將 iterable 與 iterator <a href="https://home.gamer.com.tw/creationDetail.php?sn=4337438">相關說明</a>, 利用 Brython 與 Ace Editor 整理在這個頁面.</p>
<p></p>
<!-- 導入 brython 程式庫 -->
<p>
<script src="/static/brython.js"></script>
<script src="/static/brython_stdlib.js"></script>
</p>
<!-- 啟動 Brython -->
<p>
<script>
window.onload=function(){
brython({debug:1, pythonpath:['/static/','./../downloads/py/']});
}
</script>
</p>
<p><!-- 導入 FileSaver 與 filereader --></p>
<p>
<script src="/static/ace/FileSaver.min.js" type="text/javascript"></script>
<script src="/static/ace/filereader.js" type="text/javascript"></script>
</p>
<p><!-- 導入 ace --></p>
<p>
<script src="/static/ace/ace.js" type="text/javascript"></script>
<script src="/static/ace/ext-language_tools.js" type="text/javascript"></script>
<script src="/static/ace/mode-python3.js" type="text/javascript"></script>
<script src="/static/ace/snippets/python.js" type="text/javascript"></script>
</p>
<p><!-- 導入 gearUtils-0.9.js Cango 齒輪繪圖程式庫 -->
<script src="/static/Cango-24v03-min.js"></script>
<script src="/static/gearUtils-09.js"></script>
<script src="/static/SVGpathUtils-6v03-min.js"></script>
<script src="/static/sylvester.js"></script>
<script src="/static/PrairieDraw.js"></script>
</p>
<p><!-- 請注意, 這裡使用 Javascript 將 localStorage["kw_py_src1"] 中存在近端瀏覽器的程式碼, 由使用者決定存檔名稱--></p>
<p>
<script type="text/javascript">
function doSave(storage_id, filename){
    var blob = new Blob([localStorage[storage_id]], {type: "text/plain;charset=utf-8"});
    filename = document.getElementById(filename).value
    saveAs(blob, filename+".py");
}
</script>
</p>
<p>
<script type="text/python3">
from browser import document as doc
import ace
# 清除畫布
def clear_bd1(ev):
    bd = doc["brython_div1"]
    bd.clear()
Ace1 = ace.Editor(editor_id="kw_editor1", console_id="kw_console1", container_id="kw__container1", storage_id="kw_py_src1" )
# 從 gist 取出程式碼後, 放入 editor 作為 default 程式
def run1():
    # 利用 get 取下 src 變數值
    try:
        url = doc.query["src"]
    except:
        url = "https://gist.githubusercontent.com/mdecourse/0229a8a017091476a79700b8a190f185/raw/c3a6deaf717f8f2739a4b1392a5ab10936e9693a/from_1_add_to_10_1.py"
    prog = open(url).read()

    # 將程式載入編輯區
    Ace1.editor.setValue(prog)
    Ace1.editor.scrollToRow(0)
    Ace1.editor.gotoLine(0)
    # 直接執行程式
    #ns = {'__name__':'__main__'}
    #exec(prog, ns)
    # 按下 run 按鈕
    Ace1.run()

# 執行程式, 顯示輸出結果與清除輸出結果及對應按鈕綁定
doc['kw_run1'].bind('click', Ace1.run)
doc['kw_show_console1'].bind('click', Ace1.show_console)
doc['kw_clear_console1'].bind('click', Ace1.clear_console)
doc['clear_bd1'].bind('click', clear_bd1)
# 呼叫函式執行
run1()
</script>
</p>
<p><!-- add 1 to 100 開始 -->
<script type="text/python3">
from browser import document as doc
import ace

# 清除畫布
def clear_bd1(ev):
    bd = doc["brython_div1"]
    bd.clear()

# 利用 ace 中的 Editor 建立 Ace2 物件, 其中的輸入變數分別對應到頁面中的編輯區物件
Ace2 = ace.Editor(editor_id="kw_editor1", console_id="kw_console1", container_id="kw__container1", storage_id="kw_py_src1" )

add1to100_url = "https://gist.githubusercontent.com/mdecourse/0229a8a017091476a79700b8a190f185/raw/c48e37714f055c3a0027cbfef59e442a6ef659b9/from_1_add_to_100_1.py"

# 從 gist 取得程式碼
add_src = open(add1to100_url).read()
def add(ev):
    Ace2.editor.setValue(add_src)
    Ace2.editor.scrollToRow(0)
    Ace2.editor.gotoLine(0)
    Ace2.run()

# id 為 "add1to100" 的按鈕點按時, 執行 add 方法
doc["add1to100"].bind('click', add)
</script>
</p>
<p><!-- add 1 to 100 結束--></p>
<!-- editor1 開始 -->
<p><!-- 用來顯示程式碼的 editor 區域 --></p>
<div id="kw_editor1" style="width: 600px; height: 300px;"></div>
<p><!-- 以下的表單與按鈕與前面的 Javascript doSave 函式以及 FileSaver.min.js 互相配合 --></p>
<p><!-- 存擋表單開始 --></p>
<form><label>Filename: <input id="kw_filename" placeholder="input file name" type="text"/>.py</label> <input onclick="doSave('kw_py_src1', 'kw_filename1');" type="submit" value="Save"/></form>
<p><!-- 存擋表單結束 --></p>
<p></p>
<p><!-- 執行與清除按鈕開始 --></p>
<p><button id="kw_run1">Run</button> <button id="kw_show_console1">Output</button> <button id="kw_clear_console1">清除輸出區</button><button id="clear_bd1">清除繪圖區</button><button onclick="window.location.reload()">Reload</button></p>
<p><!-- 執行與清除按鈕結束 --></p>
<p></p>
<p><!-- 程式執行 ouput 區 --></p>
<div style="width: 100%; height: 100%;"><textarea autocomplete="off" id="kw_console1"></textarea></div>
<p><!-- Brython 程式執行的結果, 都以 brython_div1 作為切入位置 --></p>
<div id="brython_div1"></div>
<!-- editor1 結束 --><hr/><!-- ########################################## -->
<p>從 1 累加到 100 part2:</p>
<p><button id="add1to100part2">1 add to 100</button><button id="cango_three_gears">cango_three_gears</button><button id="bsnake">BSnake</button><button id="aitetris">AI Tetris</button><button id="threejsblock">Rotating Block</button></p>
<p><!-- 請注意, 這裡使用 Javascript 將 localStorage["kw_py_src2"] 中存在近端瀏覽器的程式碼, 由使用者決定存檔名稱--></p>
<p>
<script type="text/python3">
from browser import document as doc
import ace
# 清除畫布
def clear_bd2(ev):
    bd = doc["brython_div2"]
    bd.clear()
Ace3 = ace.Editor(editor_id="kw_editor2", console_id="kw_console2", container_id="kw__container2", storage_id="kw_py_src2" )
# 從 gist 取出程式碼後, 放入 editor 作為 default 程式
def run2():
    # 利用 get 取下 src 變數值
    try:
        url = doc.query["src2"]
    except:
        url = "https://gist.githubusercontent.com/mdecourse/0229a8a017091476a79700b8a190f185/raw/c3a6deaf717f8f2739a4b1392a5ab10936e9693a/from_1_add_to_10_1.py"
    prog = open(url).read()

    # 將程式載入編輯區
    Ace3.editor.setValue(prog)
    Ace3.editor.scrollToRow(0)
    Ace3.editor.gotoLine(0)
    # 直接執行程式
    #ns = {'__name__':'__main__'}
    #exec(prog, ns)
    # 按下 run 按鈕
    Ace3.run()

# 執行程式, 顯示輸出結果與清除輸出結果及對應按鈕綁定
doc['kw_run2'].bind('click', Ace3.run)
doc['kw_show_console2'].bind('click', Ace3.show_console)
doc['kw_clear_console2'].bind('click', Ace3.clear_console)
doc['clear_bd2'].bind('click', clear_bd2)
# 呼叫函式執行
run2()
</script>
</p>
<p><!-- add 1 to 100 part2 開始 -->
<script type="text/python3">
from browser import document as doc
import ace

# 清除畫布
def clear_bd2(ev):
    bd = doc["brython_div2"]
    bd.clear()

# 利用 ace 中的 Editor 建立 Ace2 物件, 其中的輸入變數分別對應到頁面中的編輯區物件
Ace4 = ace.Editor(editor_id="kw_editor2", console_id="kw_console2", container_id="kw__container2", storage_id="kw_py_src2" )

# 透過 Ace4 以類別建立一個通用的 button2, 可以在多個案例中將 gist 程導入編輯區

class button2:
    def __init__(self, url):
        self.url = url

    # 記得加入 event 輸入變數
    def do(self,ev):
        Ace4.editor.setValue(open(self.url).read())
        Ace4.editor.scrollToRow(0)
        Ace4.editor.gotoLine(0)
        Ace4.run()

add1to100_url = "https://gist.githubusercontent.com/mdecourse/0229a8a017091476a79700b8a190f185/raw/c48e37714f055c3a0027cbfef59e442a6ef659b9/from_1_add_to_100_1.py"

# 從 gist 取得程式碼
add_src = open(add1to100_url).read()
def add2(ev):
    Ace4.editor.setValue(add_src)
    Ace4.editor.scrollToRow(0)
    Ace4.editor.gotoLine(0)
    Ace4.run()

# id 為 "add1to100part2" 的按鈕點按時, 執行 add 方法
doc["add1to100part2"].bind('click', add2)
# 以下為運用 button2 class 的通用 gist 程式導入區
################################## cango_three_gears start
cango_three_gears_url = "https://gist.githubusercontent.com/mdecycu/d9082d678096bd58378d6afe2c7fa05d/raw/f7a85d737d6723d5e34c526d5daee990ed92c32b/cango_three_gears_brython_div2.py"
cango_three_gears = button2(cango_three_gears_url)
doc["cango_three_gears"].bind("click", cango_three_gears.do)
################################## cango_three_gears end
################################## bsnake start
bsnake_url = "https://gist.githubusercontent.com/mdecycu/d9082d678096bd58378d6afe2c7fa05d/raw/f7a85d737d6723d5e34c526d5daee990ed92c32b/kmol_snakey.py"
bsnake = button2(bsnake_url)
doc["bsnake"].bind("click", bsnake.do)
################################## bsnake end
################################## aitetris start
aitetris_url = "https://gist.githubusercontent.com/mdecycu/d9082d678096bd58378d6afe2c7fa05d/raw/f7a85d737d6723d5e34c526d5daee990ed92c32b/pygame_to_brython_tetris_ai.py"
aitetris = button2(aitetris_url)
doc["aitetris"].bind("click", aitetris.do)
################################## aitetris end
################################## threejsblock start
threejsblock_url = "https://gist.githubusercontent.com/mdecycu/2c6323eff49b496d1bafd210f3ec9707/raw/df37802f9e8a386b6424f7945af622b1cd0a9ca5/threejs_rotating_block.py"
threejsblock = button2(threejsblock_url)
doc["threejsblock"].bind("click", threejsblock.do)
################################## threejsblock end
</script>
</p>
<p><!-- add 1 to 100 part2 結束--></p>
<!-- editor2 開始 -->
<p><!-- 用來顯示程式碼的 editor 區域 --></p>
<div id="kw_editor2" style="width: 600px; height: 300px;"></div>
<p><!-- 以下的表單與按鈕與前面的 Javascript doSave 函式以及 FileSaver.min.js 互相配合 --></p>
<p><!-- 存擋表單開始 --></p>
<form><label>Filename: <input id="kw_filename2" placeholder="input file name" type="text"/>.py</label> <input onclick="doSave('kw_py_src2', 'kw_filename2');" type="submit" value="Save"/></form>
<p><!-- 存擋表單結束 --></p>
<p></p>
<p><!-- 執行與清除按鈕開始 --></p>
<p><button id="kw_run2">Run</button> <button id="kw_show_console2">Output</button> <button id="kw_clear_console2">清除輸出區</button><button id="clear_bd2">清除繪圖區</button><button onclick="window.location.reload()">Reload</button></p>
<p><!-- 執行與清除按鈕結束 --></p>
<p></p>
<p><!-- 程式執行 ouput 區 --></p>
<div style="width: 100%; height: 100%;"><textarea autocomplete="off" id="kw_console2"></textarea></div>
<p><!-- Brython 程式執行的結果, 都以 brython_div1 作為切入位置 --></p>
<div id="brython_div2"></div>
<!-- editor2 結束 --><hr/>
<p>
<script src="https://unpkg.com/three@0.144.0/build/three.js" type="text/javascript"></script>
</p>
<h1>HW</h1>
<h2>W9-W11</h2>
<div id="tipue_search_content">
<p><a href="https://nfuedu-my.sharepoint.com/:u:/g/personal/yen_nfu_edu_tw/EUAKvPQrXilApxg_K4_4ficBBJ6L64Z1F6LmaEhrbM9zXQ?e=NIVIAJ">下載整合網路設定、可攜程式系統以及執行可攜 Solid Edge 的 reg 與 batch files.7z</a><span> </span>(需要密碼)</p>
<p>請各分組實際操作<span> </span><a href="https://mde.tw/pjcopsim/content/bubbleRobTutorial.html">https://mde.tw/pjcopsim/content/bubbleRobTutorial.html</a><span> </span>之後, 將操作過程與心得放入各組的分組網站中 (頁面標題為 w11), 並說明各組員在過程中所負責的工作內容與任務, 各組員所負責的項目請放入個人的網頁中.</p>
<p>過程中所遭遇問題, 請各組員利用 Teams 詢問 (CAD2023 MS Teams 代碼為: fnueb56).</p>
<p>執行 perpetual motion simulator 系統:</p>
<p>紀錄鋼球運動速度:<span> </span><a href="https://forum.coppeliarobotics.com/viewtopic.php?t=9798">1</a>,<span> </span><a href="https://www.coppeliarobotics.com/helpFiles/en/regularApi/simGetObjectVelocity.htm">2</a>.</p>
<p>對模擬物件施力:<span> </span><a href="https://www.coppeliarobotics.com/helpFiles/en/regularApi/simAddForce.htm">1</a><span> </span>(non-central),<span> </span><a href="https://www.coppeliarobotics.com/helpFiles/en/regularApi/simAddForceAndTorque.htm">2</a><span> </span>(center of mass),<span> </span><a href="https://forum.coppeliarobotics.com/viewtopic.php?t=9685">3</a><span> </span>(施力並設定材料性質).</p>
<p>模擬電磁力:<span> </span><a href="https://forum.coppeliarobotics.com/viewtopic.php?t=1501">1</a>,<span> </span><a href="https://gamedev.stackexchange.com/questions/140008/implementing-magnet-like-system-in-unity">2</a>.</p>
<p>CoppeliaSim 鋼球永動模擬器電腦輔助設計三個階段: 建立模型零組件 - 轉入機電模擬系統 - 根據實際物理條件設置機電系統. <a href="https://nfuedu-my.sharepoint.com/:u:/g/personal/yen_nfu_edu_tw/ERR-gLqBjsVGnW2-VYSvtl4BXpNVbocA2nWvmeJyXkyJqw?e=KX2Pw0">perpetual_motion_simulator_project_cad2023.7z 下載</a><span> </span>(需要密碼)</p>
<p>雲端、區網與近端環境中的電腦輔助設計環境:</p>
<p>直接在網路上進行電腦輔助設計的好處雖然很多, 但是在<span>商用的雲端系統</span>, 例如: Github 或 Replit, 使用者只能依照服務提供者的方法及流程進行應用, 當 Github 宣布在 2023 年底之前各用戶必須使用 2FA 認證登入, 使用者只能照辦, 否則帳號就可能被禁用.</p>
<p>作為 Replit 的免付費用戶也處於相同的情況, 當服務提供者宣布在 2024 年初開始, 只有付費用戶可以使用廣域的 Webview, 若希望仍維持免付費使用 (目前<span> </span><a href="https://replit.com/pricing">Replit Core 年費</a><span> </span>120 美元), 屆時再看是否能繼續開啟動態網站編輯, 並將改版內容提交推送到 Github 倉儲, 以便採分散式版次管理流程維護 Github Pages 網站.</p>
<p>同樣利用網路服務, 但設法將所有超過兩百名用戶集中到<span>自行搭建的廣域網站</span>系統, 也可以擁有類似 Replit 上維護網站內容的優點, 可是壞處是在系上工作站室所設定的軟硬體與網路連線, 都必須自行維護, 可用性與穩定度都遠遠不及商用的雲端系統.</p>
<p>另外, 在無網路連線的情況下, 若先前已經將 Github 上倉儲, git clone 到<span>近端硬碟或隨身碟</span>, 使用者仍可以直接利用可攜程式系統, 執行動態網站並針對電腦輔助流程新增提交改版內容, 等到有網路連線的時段再將資料推送到 Github.</p>
<p>最後, 假如系上的連外網路無法順利與 Github 相連, 所有電腦輔助設計與協同都必須在區網進行, 則可以使用<span> </span><a href="https://fossil-scm.org/">Fossil SCM</a><span> </span>進行各學員的分散式版次管理. (請參考<a href="https://mdecourse.blogspot.com/2021/02/fossil-scm.html">這裡</a>的說明).</p>
<p>循著上述相同的網路或自主環境, 利用<span> </span><span>Onshape</span><span> </span>就與商用雲端系統相似, 一定要上網才能進行輔助設計繪圖, 而在系上或學校網路認證才能開啟的<span> </span><span>NX 或 SolidWorks</span>, 就必須在自行搭建的認證主機能夠運作, 才可連線認證後開啟. 至於<span> </span><span>Solid Edge 可攜版與 Solvespace</span><span> </span>則可以在沒有網路連線的情況下進行零組件的設計繪圖.</p>
<hr/>
<p>w10 網路狀態: 目前似乎從學校電腦無法使用 hinet 的 IPv6 DNS 伺服器. 驗證方式: 在命令列中輸入 nslookup, 然後以 server 2001:b000:168::1 指令將 DNS 設為中華電信的符號名稱伺服器, 然後查詢 google.com.</p>
<p>因應方法: 使用機械設計系所建立的 DNS 伺服器, 140.130.17.3 以及<span> </span><span>2001:288:6004:17::3</span></p>
<p>無法使用中華電信 DNS 原因: 應該是學校網管修改設定, 禁止跨區設定 DNS 伺服器.</p>
<p>w10 Ubuntu 問題: 22.04 版更為最新後, netplan 在無 openvswitch 啟動的情況下無法更新設定.</p>
<p>先處理 /etc/netplan/net.yaml 中 DNS 伺服器改為系上主機, 在無法使用 sudo netplan apply 更新 /etc/netplan/net.yaml 設定之前, 可以查詢 /etc/environment 中是否使用 IPv6 address 進行設定 http_proxy 與 https_proxy 變數. 或者修改 /etc/resolv.conf 中的 nameserver 設定, 讓 net.yaml 中的 DNS 設定可以運作. 且利用<span> </span><span>sudo apt install openvswitch-switch</span><span> </span>安裝並執行 netplan 所需的服務 (其實是 bug, 但為了能讓 netplan 正常運作的權宜之策).</p>
<p>有關電腦輔助設計室網路設定:</p>
<p><a href="https://nfuedu-my.sharepoint.com/:u:/g/personal/yen_nfu_edu_tw/ESCcmplVTVxJnJYZ2pJWh-oBFWsDJxxSYzVh_5LD5Oa5Gg?e=1EysLk">w10_2b_cadlab_network_setting.7z</a><span> </span>(需要下載密碼) - 電腦輔助設計室網路設定批次與 Powershell 檔案.</p>
<p><a href="https://nfuedu-my.sharepoint.com/:u:/g/personal/yen_nfu_edu_tw/EV5P-1cv-y1Ih5zFT9LyTy0B6vGwNfDVlXYescPWAcMliw?e=LTUnq7">tinyc.7z</a><span> </span>(需要下載密碼) - 使用 Tiny C Compiler 編譯 C 程式, 包含 gd 與 gnuplot.</p>
<p><a href="https://nfuedu-my.sharepoint.com/:u:/g/personal/yen_nfu_edu_tw/EYLeiM_NMzFHiKnUWpcO9pwBHxwDNjNDC-4F3h_d761wMQ?e=NMdPpv">python3114_git_putty.7z</a><span> </span>(需要下載密碼) - 將近端 cmsimde 啟動並改版後推向 Github 所需的檔案.</p>
<p>若電腦輔助設計室網路不順, 可以先將倉儲 clone 到隨身碟, 並利用近端工具進行輔助設計且改版後 (git add and git commit), 等到網路順暢時才 push.</p>
<hr/>
<p><a href="https://nfuedu-my.sharepoint.com/:u:/g/personal/yen_nfu_edu_tw/EX45YrR81S1AlJn3EmMISXcBI-ETlNSLSridchdKq4XjTA?e=GYp3x9">creo 10 安裝流程的 wink 專案檔案下載</a><span> </span>(需要密碼)</p>
<p>有關線上簡報、網誌與多媒體影片製作工具, 請參考:<span> </span><a href="https://mde.tw/cpnote/content/w10.html">https://mde.tw/cpnote/content/w10.html</a></p>
<p>有關學習計算機程式與電腦輔助設計相關課程的心態與方法, 請參考<a href="https://mde.tw/cpnote/content/%E4%B8%8A%E8%AA%B2%E5%85%A7%E5%AE%B9.html">這裡</a>的說明.</p>
<p>因為 Python 3.12.0 環境下 Leo Editor 還無法正常透過 pip 安裝, 因此必須手動安裝 PyQt5 之後, 再使用 pip install leo, 所完成的 Python 3.12.0: <a href="https://nfuedu-my.sharepoint.com/:u:/g/personal/yen_nfu_edu_tw/EYf6RiAqXAFJllAizi_-iZ4BT9ZEn8-bT2V8TVjd9p446Q?e=NSCciC">Python312_leo_664_PyQt5.7z</a><span> </span>(需要下載密碼)</p>
<p>有關口頭報告 (oral presentation):</p>
<p><a href="https://softwarekeep.com/help-center/compare-powerpoint-revealjs">PowerPoint vs reveal.js: Choosing Presentation Tools (softwarekeep.com)</a> </p>
<p><a href="https://ithelp.ithome.com.tw/articles/10185467">https://ithelp.ithome.com.tw/articles/10185467</a> </p>
<p>cad2023 倉儲中的 reveal.js: <a href="https://mde.tw/cadnote/reveal/">https://mde.tw/cadnote/reveal/</a> </p>
<p>有關永動機運動模擬玩具 (perpetual motion simulator toy):</p>
<p>CAD 零組件繪圖</p>
<p>原型製作前的系統模擬與製程規劃</p>
<p>如何學習 CoppeliaSim:</p>
<p>透過閱讀 <a href="https://mde.tw/pjcopsim">https://mde.tw/pjcopsim</a> 中的 tutorial 與相關指令說明後, 實際操作測試並在個人網頁中記錄各項功能的使用方法.</p>
<p>進入 CoppeliaSim<span> </span><a href="https://forum.coppeliarobotics.com/">Forum</a>, 搜尋相關討論或發問.</p>
<p><a href="https://forum.coppeliarobotics.com/viewtopic.php?t=9533">Arduino code to CoppeliaSim</a><span> </span>展示. (<a href="https://bitbucket.org/afaina/horosim/">Horosim</a>,<span> </span><a href="https://github.com/mdecycu/horosim">備份</a>), 更早的<a href="https://forum.arduino.cc/t/using-v-rep-to-simulate-an-arduino-sketch/208718/2">討論</a>. 虛實整合:<span> </span><a href="https://www.youtube.com/watch?v=ZJQV2FlGFBo">1</a>,<span> </span><a href="https://www.youtube.com/watch?v=Nsgt8YPSDpU">2</a>,<span> </span><a href="https://github.com/mdecycu/pj5083/releases/tag/v0.0.80">3</a>.</p>
<p>從既有討論串中學習:<span> </span><a href="https://forum.coppeliarobotics.com/viewtopic.php?t=3923">1</a>,</p>
<p>了解與磁場模擬有關的研究:<span> </span><a href="https://nfuedu-my.sharepoint.com/:b:/g/personal/yen_nfu_edu_tw/EcBSJy8fFidLvmxoc_E0cPkB0A1Xxyri2s90CSawtDZNMA?e=BCuoBM">1</a><span> </span>(需要下載密碼),<span> </span><a href="https://greenteapress.com/modsimpy/ModSimPy3.pdf">2</a>,<span> </span><a href="https://greenteapress.com/modsimpy/ModSimPy3.pdf">3</a>.</p>
<p>從<a href="https://studywolf.wordpress.com/2016/04/18/using-vrep-for-simulation-of-force-controlled-models/">案例</a>中學習.</p>
<p>有關鋼球平衡台 (steel ball balancing platform):</p>
<p>有關虛實整合彈珠台 (cyber-physical pinball table):</p>
<p></p>
<br/>w8 &lt;&lt;<span> </span><a href="https://mde.tw/cadnote/content/w8.html">Previous</a><span> </span><a href="https://mde.tw/cadnote/content/wink.html">Next</a><span> </span>&gt;&gt; wink</div>
<div class="container">
<p>Copyright ©2024 All rights reserved | This template is made with<span> </span><i aria-hidden="true" class="icon-heart"></i><span> </span>by<span> </span><a href="https://colorlib.com/" target="_blank">Colorlib</a></p>
<h2>w12</h2>
<h2>W13-14</h2>
<h2>W15</h2>
<div id="tipue_search_content">
<p><span>操作考試</span>: 請利用自選的電腦輔助設計套件建立<span> </span><a href="https://mde.tw/cadnote/content/pms.html">https://mde.tw/cadnote/content/pms.html</a>  中的零組件 (尺寸與操控內容請自訂), 並加入感測器與適當的設計元件或機構, 說明預計如何令其在接上外部電源後, 能夠讓系統中的鋼球在軌道上進行永動模擬.</p>
<p>完成零組件與可行系統設計後, 請將零組件轉入 CoppeliaSim 建立模擬場景, 並在分組中自選另一名組員, 經過彼此討論後, 請利用 ZMQ remote API Python 程式互相控制對方的永動模擬場景, 以便完成兩人一組的兩則永動機模擬操作 (若找不到協同對象, 請自行用所分配到的 IPv6 位址進行控制模擬).</p>
<p>完成上述兩人一組的現場操作考試後, 請利用 Wink 製作 MP4 操作影片, 說明從零組件繪圖至完成互動控制模擬後的各階段細節, 並將上述各項內容放入個人倉儲與網站 (頁面標題請用第一階設定, 名稱為 exam).</p>
<p>step1: 基本零組件設計繪圖.</p>
<p>step2: 施力機構設計, 納入軌道下方控制盒中.</p>
<p>step3: 將軌道、鋼球與簡化後的控制盒輸入 CoppeliaSim.</p>
<p>step4: 配合控制系統設計, 納入感測器與施力機構或系統.</p>
<p>step5: 在 localhost 以 IPv6 ZMQ remote API Python 程式, 配合感測器作動對鋼球施力.</p>
<p>step6: 跨網路對協同組員的場景進行控制模擬.</p>
<p><iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" data-mce-fragment="1" frameborder="0" height="315" src="https://www.youtube.com/embed/O-FKcK0vzgY?si=Ci-reYmxMRDYzUZN" title="YouTube video player" width="560"></iframe></p>
<p>截至 2023.12.22 Replit 仍可用來維護 Github 倉儲中的對應網站內容, 且可透過下列 html 將 Repl 嵌入網頁中:</p>
<div>
<div class="syntaxhighlighter html" id="highlighter_545958">
<table border="0" cellpadding="0" cellspacing="0">
<tbody>
<tr>
<td class="gutter">
<div class="line number1 index0 alt2">1</div>
</td>
<td class="code">
<div class="container">
<div class="line number1 index0 alt2"><code class="html plain">&lt;</code><code class="html keyword">iframe</code> <code class="html color1">frameborder</code><code class="html plain">=</code><code class="html string">"0"</code> <code class="html color1">width</code><code class="html plain">=</code><code class="html string">"100%"</code> <code class="html color1">height</code><code class="html plain">=</code><code class="html string">"400"</code> <code class="html color1">src</code><code class="html plain">=</code><code class="html string">"https://replit.com/@wcms/cadnote?embed=true"</code><code class="html plain">&gt;&lt;/</code><code class="html keyword">iframe</code><code class="html plain">&gt;</code></div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<p><iframe data-mce-fragment="1" frameborder="0" height="400px" src="https://replit.com/@wcms/cadnote?embed=true" width="100%"></iframe></p>
<p><span>例如要查詢埠號 9210 埠號的使用情形, 指令為 </span><span>lsof -i :9210, 其中 ls 為 list, of 為 open file, -i 中的 i 為 internet, :9210 表示要求列出與 port 9210 有關 internet 使用相關的資料.</span></p>
<p>利用 s.cycu.org 維護 github.com 上的倉儲與網站內容的說明在: <a href="https://mde.tw/cadnote/content/w8.html">https://mde.tw/cadnote/content/w8.html</a> </p>
<br/>w13-w14 &lt;&lt;<span> </span><a href="https://mde.tw/cadnote/content/w13-w14.html">Previous</a><span> </span><a href="https://mde.tw/cadnote/content/%E7%B6%B2%E8%B7%AF%E8%A8%AD%E5%AE%9A.html">Next</a><span> </span>&gt;&gt; 網路設定</div>
<div class="container">
<div class="row pt-3 mx-auto">
<p>Copyright ©2024 All rights reserved | This template is made with<span> </span><i aria-hidden="true" class="icon-heart"></i><span> </span>by<span> </span><a href="https://colorlib.com/" target="_blank">Colorlib</a></p>
<h1>任務一</h1>
<h2>磁力吸引</h2>
<p>有關磁力吸引的鋼球循環運動系統, 請參考<a href="https://youtu.be/r_LG8FDt51U?si=D6TZP_XarNUvVOye">這個影片</a>.<span> </span><span>或者透過課程檔案下載密碼觀看<a href="https://nfuedu-my.sharepoint.com/:v:/g/personal/yen_nfu_edu_tw/EcDmEvU3PKREq_noqkc_FeABZhbpfQ5p-f-3LuZn-PAQ1g?nav=eyJyZWZlcnJhbEluZm8iOnsicmVmZXJyYWxBcHAiOiJPbmVEcml2ZUZvckJ1c2luZXNzIiwicmVmZXJyYWxBcHBQbGF0Zm9ybSI6IldlYiIsInJlZmVycmFsTW9kZSI6InZpZXciLCJyZWZlcnJhbFZpZXciOiJNeUZpbGVzTGlua0RpcmVjdCJ9fQ&amp;e=vF0sTa">這個影片</a>.</span></p>
<p><span>根據<a href="https://www.etsy.com/listing/1253569674/perpetual-machine-simulator-perpetual">這個網站</a>宣稱是此一 Perpetual Motion Simulator 的原始創作者.</span></p>
<p><span>同時參考 <a href="https://nfuedu-my.sharepoint.com/:b:/g/personal/yen_nfu_edu_tw/ETvxcyDptUtMlUj22ato4RYBJc5ekzCuC1pGFcOmUSXK3w?e=2miuR4">A perpetual motion machine powered by electromagnetism.pdf</a><span> </span>(需要下載密碼)</span></p>
<p>電腦輔助設計與實習課程的任務一即可根據此一裝置的設計, 先採用電腦輔助設計軟體, 繪製系統所需的 3D 零組件, 然後轉為 STL 格式, import 進入 CoppeliaSim, 接著根據影片說明, 利用近接感測器(例如:<span> </span><a href="https://shopee.tw/%E9%9B%BB%E6%84%9F%E5%BC%8F-%E6%8E%A5%E8%BF%91%E9%96%8B%E9%97%9C-SN04N-SN04P-SN04Y-NPN-%E7%9B%B4%E6%B5%813%E7%B7%9A-%E5%9F%8B%E5%85%A5%E5%BC%8F-%E6%98%8E%E6%AD%A6%E6%A8%A1%E7%B5%84-i.795631261.18472134425">電感式近接開關</a>,<span> </span><a href="https://www.amazon.com/-/en/LY346/dp/B07V4PR84Y">Inductive proximity sensor</a>) 控制電磁鐵開關, 設法透過磁力吸引讓鋼球具有足夠動能返回圓形平台.</p>
<p>有關利用 Arduino 控制卡與相關電路設計產生電磁力控制的模擬, 請參考<span> </span><a href="https://mde.tw/cad2023/content/PICSimLab.html">PICSimLab</a><span> </span>頁面中的說明.</p>
<p>一旦完成 CoppeliaSim 與 Arduino 電路設計等機電資系統整合模擬, 就可以進一步利用 3D printer 列印出所需零組件, 結合實體電路設計完成此一系統的虛實整合.</p>
<p>機電模擬系統:</p>
<p>下載支援 IPv6 網路協定版本<span> </span><a href="https://nfuedu-my.sharepoint.com/:u:/g/personal/yen_nfu_edu_tw/EfEaYO4E4eBGtTV3QBCP0f0B3JBfrw11LslWmQyqZB75fw?e=Zf7hCp">CoppeliaSimEdu_4.5.1_rev4_for_cd2023.7z</a><span> </span>(需要下載密碼)</p>
<p><a href="https://www.coppeliarobotics.com/helpFiles/">CoppeliaSim 使用者手冊</a>,<span> </span><a href="https://mde.tw/pjcopsim">CoppeliaSim 4.3.0 使用手冊網站</a></p>
<p>模擬磁力的<a href="https://forum.coppeliarobotics.com/viewtopic.php?t=3923">討論</a>,<span> </span><a href="https://forum.coppeliarobotics.com/viewtopic.php?t=1501">1</a>,<span> </span><a href="https://forum.coppeliarobotics.com/viewtopic.php?t=7187">2</a></p>
<p><a href="https://studywolf.wordpress.com/2016/04/18/using-vrep-for-simulation-of-force-controlled-models/">Force Control Modeling</a></p>
<p><a href="https://github.com/CoppeliaRobotics/scenes/raw/master/otherScenes/simpleMagnetDemo.ttt">simpleMagnetDemo.ttt</a></p>
<p>模擬原理:</p>
<p>Perpetual Motion Simulator 主要的電路設計包含右側軌道下方的電磁鐵, 通電後可產生一定大小的磁吸力, 當圓形鐵球循著軌道由平台孔洞往下滾動, 經過軌道下方近接感測器 (Proximity sensor) 時 (距離 3mm-5mm), 透過感應, 控制電路將會短暫啟動電磁鐵 (10 miliseconds), 促使圓形鐵球加速滾動, 其磁力大小約略與圓形鐵球距離的平方成反比 (<a href="https://en.wikipedia.org/wiki/Computational_electromagnetics">Computational Electromagnetics</a>,<span> </span><a href="https://javalab.org/en/magnetic_field_around_a_coil_en/">磁場模擬</a>).</p>
<p>因此圓形鐵球除了從平台高度落下時, 將位能轉換為動能外, 與軌道滾動磨擦以及空氣阻力所損耗的運動能, 將額外由電磁鐵開關間所得到的磁力吸引能量進行加速, 以便取得足夠的動能在脫離軌道末端後, 重新回到圓形平台.</p>
<p><img alt="" height="299" src="https://mde.tw/cadnote/images/perpetual_motion_simulator.png" width="400"/></p>
<p>(image from<span> </span><a href="https://www.etsy.com/listing/1253569674/perpetual-machine-simulator-perpetual">here</a>)</p>
<p>電磁力未啟動下的 perpetual motion simulator CoppeliaSim 場景模擬:</p>
<p><img alt="" height="303" src="https://mde.tw/cadnote/images/perpetual_motion_simulator.gif" width="400"/></p>
<p><a href="https://cad.onshape.com/documents/42e52a740033264a7d82e595/w/2f1d43f82796f4e05a79c0b5/e/f2fa8150f24c8a3d1aa4d036?renderMode=0&amp;uiState=650b848e93b8b544db72a044">Images and part files in Onshape</a><span> </span>(STL file import into CoppeliaSim 尺寸由 mm 放大10 倍至 cm, 且 z 軸向上, 場景中圓球直徑為 12.825 cm, 平台圓孔直徑為 20 cm)</p>
<p><img alt="" height="329" src="https://mde.tw/cadnote/images/perpetual_motion_simulator_scene.gif" width="400"/></p>
<p><a href="https://cad.onshape.com/documents/42e52a740033264a7d82e595/w/2f1d43f82796f4e05a79c0b5/e/f2fa8150f24c8a3d1aa4d036?renderMode=0&amp;uiState=651e2855dd2e77079352b937">Perpetual Motion Simulator in Onshape</a>, 轉入 CoppeliaSim 後放大 10 倍, 且 z 軸向上之模擬場景, 下載<span> </span><a href="https://nfuedu-my.sharepoint.com/:u:/g/personal/yen_nfu_edu_tw/EVInN4wwqbpAuAv14NeTfpIB-7Q3hshxyaR38R9fd9fbkw?e=jZhpZQ">perpetual motion simulator stage2.7z</a><span> </span>(需要下載密碼)</p>
<p>有關如何在 Onshape 繪製零組件, 轉出 STL 檔案, 轉入 CoppeliaSim 並進行組件 divide and group, 請參考這個<a href="https://nfuedu-my.sharepoint.com/:v:/g/personal/yen_nfu_edu_tw/EQkDoYGPTlRBi4iK288VMXQB4dH92ieYRUf1c4h5IjHU0A?nav=eyJyZWZlcnJhbEluZm8iOnsicmVmZXJyYWxBcHAiOiJPbmVEcml2ZUZvckJ1c2luZXNzIiwicmVmZXJyYWxBcHBQbGF0Zm9ybSI6IldlYiIsInJlZmVycmFsTW9kZSI6InZpZXciLCJyZWZlcnJhbFZpZXciOiJNeUZpbGVzTGlua0RpcmVjdCJ9fQ&amp;e=wYUHv2">教學影片</a>.</p>
<p>以下 Python 程式可在 CoppeliaSim 場景檔案中建立所需的模擬組件:</p>
<p>啟動<span> </span><a href="https://nfuedu-my.sharepoint.com/:u:/g/personal/yen_nfu_edu_tw/EfEaYO4E4eBGtTV3QBCP0f0B3JBfrw11LslWmQyqZB75fw?e=Zf7hCp">CoppeliaSimEdu_4.5.1_rev4_for_cd2023.7z</a><span> </span>(支援 IPv6 網路協定版本, 需要下載密碼), 然後在<span> </span><a href="https://nfuedu-my.sharepoint.com/:u:/g/personal/yen_nfu_edu_tw/EQTW-mq62DpFtw5It9ao-PIBPXW7z5z8oVsW5gd8zbDXOQ?e=q6gHgf">Portable_2023_fall_1.3g_5g.7z</a><span> </span>(需要下載密碼) 可攜環境啟動後, 以 pip install pyzmq cbor keyboard 安裝所需模組, 然後執行下列 zmqRemoteAPI IPv6 程式, 將滑鼠在場景中點擊後, 按下 q 鍵即可終止場景模擬:</p>
<div>
<div class="syntaxhighlighter py" id="highlighter_347529">
<table border="0" cellpadding="0" cellspacing="0">
<tbody>
<tr>
<td class="gutter">
<div class="line number1 index0 alt2">1</div>
<div class="line number2 index1 alt1">2</div>
<div class="line number3 index2 alt2">3</div>
<div class="line number4 index3 alt1">4</div>
<div class="line number5 index4 alt2">5</div>
<div class="line number6 index5 alt1">6</div>
<div class="line number7 index6 alt2">7</div>
<div class="line number8 index7 alt1">8</div>
<div class="line number9 index8 alt2">9</div>
<div class="line number10 index9 alt1">10</div>
<div class="line number11 index10 alt2">11</div>
<div class="line number12 index11 alt1">12</div>
<div class="line number13 index12 alt2">13</div>
<div class="line number14 index13 alt1">14</div>
<div class="line number15 index14 alt2">15</div>
<div class="line number16 index15 alt1">16</div>
<div class="line number17 index16 alt2">17</div>
<div class="line number18 index17 alt1">18</div>
<div class="line number19 index18 alt2">19</div>
<div class="line number20 index19 alt1">20</div>
<div class="line number21 index20 alt2">21</div>
<div class="line number22 index21 alt1">22</div>
<div class="line number23 index22 alt2">23</div>
<div class="line number24 index23 alt1">24</div>
<div class="line number25 index24 alt2">25</div>
<div class="line number26 index25 alt1">26</div>
<div class="line number27 index26 alt2">27</div>
<div class="line number28 index27 alt1">28</div>
<div class="line number29 index28 alt2">29</div>
<div class="line number30 index29 alt1">30</div>
<div class="line number31 index30 alt2">31</div>
<div class="line number32 index31 alt1">32</div>
<div class="line number33 index32 alt2">33</div>
<div class="line number34 index33 alt1">34</div>
<div class="line number35 index34 alt2">35</div>
<div class="line number36 index35 alt1">36</div>
<div class="line number37 index36 alt2">37</div>
<div class="line number38 index37 alt1">38</div>
<div class="line number39 index38 alt2">39</div>
<div class="line number40 index39 alt1">40</div>
<div class="line number41 index40 alt2">41</div>
<div class="line number42 index41 alt1">42</div>
<div class="line number43 index42 alt2">43</div>
<div class="line number44 index43 alt1">44</div>
<div class="line number45 index44 alt2">45</div>
<div class="line number46 index45 alt1">46</div>
<div class="line number47 index46 alt2">47</div>
<div class="line number48 index47 alt1">48</div>
<div class="line number49 index48 alt2">49</div>
<div class="line number50 index49 alt1">50</div>
<div class="line number51 index50 alt2">51</div>
<div class="line number52 index51 alt1">52</div>
<div class="line number53 index52 alt2">53</div>
<div class="line number54 index53 alt1">54</div>
<div class="line number55 index54 alt2">55</div>
<div class="line number56 index55 alt1">56</div>
<div class="line number57 index56 alt2">57</div>
<div class="line number58 index57 alt1">58</div>
<div class="line number59 index58 alt2">59</div>
<div class="line number60 index59 alt1">60</div>
<div class="line number61 index60 alt2">61</div>
<div class="line number62 index61 alt1">62</div>
<div class="line number63 index62 alt2">63</div>
<div class="line number64 index63 alt1">64</div>
<div class="line number65 index64 alt2">65</div>
<div class="line number66 index65 alt1">66</div>
<div class="line number67 index66 alt2">67</div>
<div class="line number68 index67 alt1">68</div>
<div class="line number69 index68 alt2">69</div>
<div class="line number70 index69 alt1">70</div>
<div class="line number71 index70 alt2">71</div>
</td>
<td class="code">
<div class="container">
<div class="line number1 index0 alt2"><code class="py comments"># zmqRemoteApi_IPv6 為將 zmq 通訊協定修改為 IPv4 與 IPv6 相容</code></div>
<div class="line number2 index1 alt1"><code class="py comments"># pip install pyzmq cbor keyboard</code></div>
<div class="line number3 index2 alt2"><code class="py keyword">from</code> <code class="py plain">zmqRemoteApi_IPv6 </code><code class="py keyword">import</code> <code class="py plain">RemoteAPIClient</code></div>
<div class="line number4 index3 alt1"><code class="py keyword">import</code> <code class="py plain">time</code></div>
<div class="line number5 index4 alt2"><code class="py keyword">import</code> <code class="py plain">math</code></div>
<div class="line number6 index5 alt1"><code class="py keyword">import</code> <code class="py plain">keyboard</code></div>
<div class="line number7 index6 alt2"> </div>
<div class="line number8 index7 alt1"><code class="py comments"># 利用 zmqRemoteAPI 以 23000 對場景伺服器進行連線</code></div>
<div class="line number9 index8 alt2"><code class="py plain">client </code><code class="py keyword">=</code> <code class="py plain">RemoteAPIClient(</code><code class="py string">'localhost'</code><code class="py plain">, </code><code class="py value">23000</code><code class="py plain">)</code></div>
<div class="line number10 index9 alt1"><code class="py comments"># 以 getObject 方法取得場景物件</code></div>
<div class="line number11 index10 alt2"><code class="py plain">sim </code><code class="py keyword">=</code> <code class="py plain">client.getObject(</code><code class="py string">'sim'</code><code class="py plain">)</code></div>
<div class="line number12 index11 alt1"><code class="py plain">box </code><code class="py keyword">=</code> <code class="py plain">sim.getObject(</code><code class="py string">'/box'</code><code class="py plain">)</code></div>
<div class="line number13 index12 alt2"> </div>
<div class="line number14 index13 alt1"><code class="py comments"># 啟動模擬</code></div>
<div class="line number15 index14 alt2"><code class="py plain">sim.startSimulation()</code></div>
<div class="line number16 index15 alt1"><code class="py comments"># 建立尺寸數列, 分別定義 x, y, z 方向尺寸</code></div>
<div class="line number17 index16 alt2"><code class="py plain">x </code><code class="py keyword">=</code> <code class="py value">0.2</code></div>
<div class="line number18 index17 alt1"><code class="py plain">y </code><code class="py keyword">=</code> <code class="py value">0.2</code></div>
<div class="line number19 index18 alt2"><code class="py plain">z </code><code class="py keyword">=</code> <code class="py value">0.1</code></div>
<div class="line number20 index19 alt1"><code class="py plain">size </code><code class="py keyword">=</code> <code class="py plain">[x, y, z]</code></div>
<div class="line number21 index20 alt2"> </div>
<div class="line number22 index21 alt1"><code class="py comments"># 利用 size 數列, 建立圓柱物件, 2 代表 cylinder</code></div>
<div class="line number23 index22 alt2"><code class="py comments"># 8 表示 respondable, 1 為 質量</code></div>
<div class="line number24 index23 alt1"><code class="py plain">digit1_handle </code><code class="py keyword">=</code> <code class="py plain">sim.createPureShape(</code><code class="py value">2</code><code class="py plain">, </code><code class="py value">8</code><code class="py plain">, size, </code><code class="py value">1</code><code class="py plain">, </code><code class="py color1">None</code><code class="py plain">)</code></div>
<div class="line number25 index24 alt2"><code class="py comments"># 將圓柱物件命名為 digit1, 若用於機械計分可做為個位數轉盤</code></div>
<div class="line number26 index25 alt1"><code class="py comments"># 之後可再導入帶有數字組立的外型零件</code></div>
<div class="line number27 index26 alt2"><code class="py plain">sim.setObjectAlias(digit1_handle, </code><code class="py string">'digit1'</code><code class="py plain">)</code></div>
<div class="line number28 index27 alt1"><code class="py comments"># 轉角單位為徑度</code></div>
<div class="line number29 index28 alt2"><code class="py plain">sim.setObjectOrientation(digit1_handle, </code><code class="py keyword">-</code><code class="py value">1</code><code class="py plain">, [</code><code class="py value">0</code><code class="py plain">, math.pi</code><code class="py keyword">/</code><code class="py value">2</code><code class="py plain">, </code><code class="py value">0</code><code class="py plain">])</code></div>
<div class="line number30 index29 alt1"><code class="py comments"># 起始物件中心位於 [0, 0, 0], 為了位於地板, 往 z 提升一個半徑高度</code></div>
<div class="line number31 index30 alt2"><code class="py plain">sim.setObjectPosition(digit1_handle, </code><code class="py keyword">-</code><code class="py value">1</code><code class="py plain">, [</code><code class="py value">0</code><code class="py plain">, </code><code class="py value">0</code><code class="py plain">, x</code><code class="py keyword">/</code><code class="py value">2</code><code class="py plain">])</code></div>
<div class="line number32 index31 alt1"> </div>
<div class="line number33 index32 alt2"><code class="py comments"># 建立 revolute joint 命名為 joint, 且將 joint mode 設為 dynamic, control mode 設為 velocity</code></div>
<div class="line number34 index33 alt1"><code class="py plain">joint1_handle </code><code class="py keyword">=</code> <code class="py plain">sim.createJoint(sim.joint_revolute_subtype, sim.jointmode_dynamic, </code><code class="py value">0</code><code class="py plain">, </code><code class="py color1">None</code><code class="py plain">)</code></div>
<div class="line number35 index34 alt2"><code class="py plain">sim.setObjectInt32Param(joint1_handle, sim.jointintparam_dynctrlmode, sim.jointdynctrl_velocity)</code></div>
<div class="line number36 index35 alt1"><code class="py plain">sim.setObjectAlias(joint1_handle, </code><code class="py string">'joint1'</code><code class="py plain">)</code></div>
<div class="line number37 index36 alt2"> </div>
<div class="line number38 index37 alt1"><code class="py comments"># 取得 cylinder 的位置座標</code></div>
<div class="line number39 index38 alt2"><code class="py plain">digit1_pos </code><code class="py keyword">=</code> <code class="py plain">sim.getObjectPosition(digit1_handle, </code><code class="py keyword">-</code><code class="py value">1</code><code class="py plain">)</code></div>
<div class="line number40 index39 alt1"><code class="py plain">joint1_pos </code><code class="py keyword">=</code> <code class="py plain">[digit1_pos[</code><code class="py value">0</code><code class="py plain">], digit1_pos[</code><code class="py value">1</code><code class="py plain">], digit1_pos[</code><code class="py value">2</code><code class="py plain">]]</code></div>
<div class="line number41 index40 alt2"> </div>
<div class="line number42 index41 alt1"><code class="py comments"># 將 joint1 至於 cylinder 中心</code></div>
<div class="line number43 index42 alt2"><code class="py plain">sim.setObjectPosition(joint1_handle, </code><code class="py keyword">-</code><code class="py value">1</code><code class="py plain">, joint1_pos)</code></div>
<div class="line number44 index43 alt1"><code class="py comments"># 取得 digit1_handle 的方位</code></div>
<div class="line number45 index44 alt2"><code class="py plain">digit1_ori </code><code class="py keyword">=</code> <code class="py plain">sim.getObjectOrientation(digit1_handle, </code><code class="py keyword">-</code><code class="py value">1</code><code class="py plain">)</code></div>
<div class="line number46 index45 alt1"><code class="py comments"># 將 joint1_handle 方位與 digit1 對齊</code></div>
<div class="line number47 index46 alt2"><code class="py plain">sim.setObjectOrientation(joint1_handle, </code><code class="py keyword">-</code><code class="py value">1</code><code class="py plain">, digit1_ori)</code></div>
<div class="line number48 index47 alt1"> </div>
<div class="line number49 index48 alt2"><code class="py comments"># 將 joint1 置於 box 上</code></div>
<div class="line number50 index49 alt1"><code class="py plain">sim.setObjectParent(joint1_handle, box, </code><code class="py color1">True</code><code class="py plain">)</code></div>
<div class="line number51 index50 alt2"><code class="py comments"># 將 cylinder 置於 joint1 上</code></div>
<div class="line number52 index51 alt1"><code class="py plain">sim.setObjectParent(digit1_handle, joint1_handle, </code><code class="py color1">True</code><code class="py plain">)</code></div>
<div class="line number53 index52 alt2"> </div>
<div class="line number54 index53 alt1"><code class="py comments"># 鎖定 joint1</code></div>
<div class="line number55 index54 alt2"><code class="py plain">sim.setJointForce(joint1_handle, </code><code class="py functions">float</code><code class="py plain">(</code><code class="py string">'inf'</code><code class="py plain">))</code></div>
<div class="line number56 index55 alt1"> </div>
<div class="line number57 index56 alt2"><code class="py functions">print</code><code class="py plain">(</code><code class="py string">"基本場景建立完成!"</code><code class="py plain">)</code></div>
<div class="line number58 index57 alt1"> </div>
<div class="line number59 index58 alt2"><code class="py comments"># 設定主迴圈</code></div>
<div class="line number60 index59 alt1"><code class="py keyword">while</code> <code class="py color1">True</code><code class="py plain">:</code></div>
<div class="line number61 index60 alt2"><code class="py spaces">    </code><code class="py comments"># 設定 joint1 目標速度</code></div>
<div class="line number62 index61 alt1"><code class="py spaces">    </code><code class="py plain">sim.setJointTargetVelocity(joint1_handle, </code><code class="py value">10</code><code class="py plain">)</code></div>
<div class="line number63 index62 alt2"><code class="py spaces">    </code><code class="py comments"># 讓 coppeliasim 有時間按照設定讓 joint1 旋轉</code></div>
<div class="line number64 index63 alt1"><code class="py spaces">    </code><code class="py plain">time.sleep(</code><code class="py value">0.01</code><code class="py plain">) </code></div>
<div class="line number65 index64 alt2"> </div>
<div class="line number66 index65 alt1"><code class="py spaces">    </code><code class="py keyword">if</code> <code class="py plain">keyboard.is_pressed(</code><code class="py string">'q'</code><code class="py plain">):</code></div>
<div class="line number67 index66 alt2"><code class="py spaces">        </code><code class="py comments"># 可以按下 q 鍵跳出重複執行迴圈</code></div>
<div class="line number68 index67 alt1"><code class="py spaces">        </code><code class="py keyword">break</code></div>
<div class="line number69 index68 alt2"> </div>
<div class="line number70 index69 alt1"><code class="py comments"># 終止模擬</code></div>
<div class="line number71 index70 alt2"><code class="py plain">sim.stopSimulation()</code></div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>下載<span> </span><a href="https://nfuedu-my.sharepoint.com/:u:/g/personal/yen_nfu_edu_tw/EVV3NaesdDdNqcoD3xAo96gBqGG4gEJFPknOIt7EfofGlg?e=OfQ4qo">zmqRemoteAPI Python for cad2023.7z</a><span> </span>(需要下載密碼)</p>
<p>在<span> </span><a href="https://github.com/CoppeliaRobotics/scenes/raw/master/otherScenes/simpleMagnetDemo.ttt">simpleMagnetDemo.ttt</a><span> </span>中利用 Lua 以 proximity sensor 感測與物體的距離後, 產生電磁吸引力的範例程式:</p>
<div>
<div class="syntaxhighlighter lua" id="highlighter_761928">
<table border="0" cellpadding="0" cellspacing="0" style="width: 567.388px;">
<tbody>
<tr>
<td class="gutter" style="width: 13px;">
<div class="line number1 index0 alt2">1</div>
<div class="line number2 index1 alt1">2</div>
<div class="line number3 index2 alt2">3</div>
<div class="line number4 index3 alt1">4</div>
<div class="line number5 index4 alt2">5</div>
<div class="line number6 index5 alt1">6</div>
<div class="line number7 index6 alt2">7</div>
<div class="line number8 index7 alt1">8</div>
<div class="line number9 index8 alt2">9</div>
<div class="line number10 index9 alt1">10</div>
<div class="line number11 index10 alt2">11</div>
<div class="line number12 index11 alt1">12</div>
<div class="line number13 index12 alt2">13</div>
<div class="line number14 index13 alt1">14</div>
<div class="line number15 index14 alt2">15</div>
<div class="line number16 index15 alt1">16</div>
<div class="line number17 index16 alt2">17</div>
<div class="line number18 index17 alt1">18</div>
<div class="line number19 index18 alt2">19</div>
<div class="line number20 index19 alt1">20</div>
<div class="line number21 index20 alt2">21</div>
<div class="line number22 index21 alt1">22</div>
<div class="line number23 index22 alt2">23</div>
<div class="line number24 index23 alt1">24</div>
<div class="line number25 index24 alt2">25</div>
<div class="line number26 index25 alt1">26</div>
<div class="line number27 index26 alt2">27</div>
<div class="line number28 index27 alt1">28</div>
<div class="line number29 index28 alt2">29</div>
<div class="line number30 index29 alt1">30</div>
<div class="line number31 index30 alt2">31</div>
<div class="line number32 index31 alt1">32</div>
<div class="line number33 index32 alt2">33</div>
<div class="line number34 index33 alt1">34</div>
<div class="line number35 index34 alt2">35</div>
<div class="line number36 index35 alt1">36</div>
<div class="line number37 index36 alt2">37</div>
<div class="line number38 index37 alt1">38</div>
<div class="line number39 index38 alt2">39</div>
<div class="line number40 index39 alt1">40</div>
<div class="line number41 index40 alt2">41</div>
<div class="line number42 index41 alt1">42</div>
<div class="line number43 index42 alt2">43</div>
<div class="line number44 index43 alt1">44</div>
<div class="line number45 index44 alt2">45</div>
<div class="line number46 index45 alt1">46</div>
<div class="line number47 index46 alt2">47</div>
<div class="line number48 index47 alt1">48</div>
<div class="line number49 index48 alt2">49</div>
<div class="line number50 index49 alt1">50</div>
<div class="line number51 index50 alt2">51</div>
<div class="line number52 index51 alt1">52</div>
<div class="line number53 index52 alt2">53</div>
<div class="line number54 index53 alt1">54</div>
</td>
<td class="code" style="width: 548.388px;">
<div class="container">
<div class="line number1 index0 alt2"><code class="lua keyword">function</code> <code class="lua plain">sysCall_init()</code></div>
<div class="line number2 index1 alt1"><code class="lua spaces">     </code><code class="lua comments">-- 初始化 callback 函數，在模擬開始時執行</code></div>
<div class="line number3 index2 alt2"><code class="lua spaces">     </code><code class="lua plain">sensor = sim.getObject(</code><code class="lua string">'./sensor'</code><code class="lua plain">)</code></div>
<div class="line number4 index3 alt1"><code class="lua spaces">     </code><code class="lua comments">-- 取得命名為 'sensor' 的物件 handle。 此處使用 proximity 感測器，用於檢測物體之間的距離</code></div>
<div class="line number5 index4 alt2"><code class="lua spaces">     </code><code class="lua plain">shape = sim.getObject(</code><code class="lua string">'.'</code><code class="lua plain">)</code></div>
<div class="line number6 index5 alt1"><code class="lua spaces">     </code><code class="lua comments">-- 取得目前 script 所依附的物件 handle，即包含此 script 的物件 handle</code></div>
<div class="line number7 index6 alt2"><code class="lua spaces">     </code><code class="lua plain">sim.setObjectInt32Param(shape, sim.shapeintparam_static, 0)</code></div>
<div class="line number8 index7 alt1"><code class="lua spaces">     </code><code class="lua comments">-- 將物體設定為非靜態，讓其在模擬中發生動態運動</code></div>
<div class="line number9 index8 alt2"><code class="lua spaces">     </code><code class="lua plain">nominalForce = 0.001</code></div>
<div class="line number10 index9 alt1"><code class="lua spaces">     </code><code class="lua comments">-- 設定電磁吸引力的標準值</code></div>
<div class="line number11 index10 alt2"><code class="lua spaces">     </code><code class="lua plain">enabled = </code><code class="lua keyword">true</code></div>
<div class="line number12 index11 alt1"><code class="lua spaces">     </code><code class="lua comments">-- 啟用電磁吸引力</code></div>
<div class="line number13 index12 alt2"><code class="lua spaces">     </code><code class="lua plain">previousPos = sim.getObjectPosition(shape, sim.handle_world)</code></div>
<div class="line number14 index13 alt1"><code class="lua spaces">     </code><code class="lua comments">-- 取得物體的初始位置並儲存在 previousPos 變數中，用於偵測物體是否移動</code></div>
<div class="line number15 index14 alt2"><code class="lua keyword">end</code></div>
<div class="line number16 index15 alt1"> </div>
<div class="line number17 index16 alt2"><code class="lua keyword">function</code> <code class="lua plain">sysCall_actuation()</code></div>
<div class="line number18 index17 alt1"><code class="lua spaces">     </code><code class="lua comments">-- 驅動 callback 函數，在每個模擬步驟中執行</code></div>
<div class="line number19 index18 alt2"><code class="lua spaces">     </code><code class="lua keyword">if</code> <code class="lua plain">enabled </code><code class="lua keyword">then</code></div>
<div class="line number20 index19 alt1"><code class="lua spaces">         </code><code class="lua comments">-- 如果啟用電磁吸引力，執行下列程式碼</code></div>
<div class="line number21 index20 alt2"><code class="lua spaces">         </code><code class="lua keyword">local</code> <code class="lua plain">r, dist, pt, obj = sim.handleProximitySensor(sensor)</code></div>
<div class="line number22 index21 alt1"><code class="lua spaces">         </code><code class="lua comments">-- 使用 proximity 感測器偵測物體是否接近</code></div>
<div class="line number23 index22 alt2"><code class="lua spaces">         </code><code class="lua keyword">if</code> <code class="lua plain">r &gt; 0 </code><code class="lua keyword">then</code></div>
<div class="line number24 index23 alt1"><code class="lua spaces">             </code><code class="lua comments">-- 如果偵測到物體</code></div>
<div class="line number25 index24 alt2"><code class="lua spaces">             </code><code class="lua plain">dist = dist + 0.02</code></div>
<div class="line number26 index25 alt1"><code class="lua spaces">             </code><code class="lua comments">-- 增加一個 offset，以避免物體接觸時產生無限大的吸引力</code></div>
<div class="line number27 index26 alt2"><code class="lua spaces">             </code><code class="lua keyword">local</code> <code class="lua plain">force = nominalForce / (dist * dist)</code></div>
<div class="line number28 index27 alt1"><code class="lua spaces">             </code><code class="lua comments">-- 計算吸引力的大小，與距離的平方成反比</code></div>
<div class="line number29 index28 alt2"><code class="lua spaces">             </code><code class="lua keyword">local</code> <code class="lua plain">m = sim.getObjectMatrix(shape, sim.handle_world)</code></div>
<div class="line number30 index29 alt1"><code class="lua spaces">             </code><code class="lua plain">m[4] = 0</code></div>
<div class="line number31 index30 alt2"><code class="lua spaces">             </code><code class="lua plain">m[8] = 0</code></div>
<div class="line number32 index31 alt1"><code class="lua spaces">             </code><code class="lua plain">m[12] = 0</code></div>
<div class="line number33 index32 alt2"><code class="lua spaces">             </code><code class="lua comments">-- 取得物體的轉換矩陣，不考慮平移部分</code></div>
<div class="line number34 index33 alt1"><code class="lua spaces">             </code><code class="lua keyword">local</code> <code class="lua plain">forceVector = sim.multiplyVector(m, {0, 0, force})</code></div>
<div class="line number35 index34 alt2"><code class="lua spaces">             </code><code class="lua comments">-- 將力向量從局部座標系轉換為絕對座標系</code></div>
<div class="line number36 index35 alt1"><code class="lua spaces">             </code><code class="lua plain">sim.addForceAndTorque(shape, forceVector, {0, 0, 0})</code></div>
<div class="line number37 index36 alt2"><code class="lua spaces">             </code><code class="lua comments">-- 將計算得到的力應用於物體的質心，持續一個 time step</code></div>
<div class="line number38 index37 alt1"><code class="lua spaces">             </code><code class="lua keyword">if</code> <code class="lua plain">notFirstPass </code><code class="lua keyword">then</code></div>
<div class="line number39 index38 alt2"><code class="lua spaces">                 </code><code class="lua keyword">local</code> <code class="lua plain">p = sim.getObjectPosition(shape, sim.handle_world)</code></div>
<div class="line number40 index39 alt1"><code class="lua spaces">                 </code><code class="lua keyword">local</code> <code class="lua plain">dx = {p[1] - previousPos[1], p[2] - previousPos[2], p[3] - previousPos[3]}</code></div>
<div class="line number41 index40 alt2"><code class="lua spaces">                 </code><code class="lua keyword">local</code> <code class="lua plain">d = </code><code class="lua functions">math.sqrt</code><code class="lua plain">(dx[1] * dx[1] + dx[2] * dx[2] + dx[3] * dx[3])</code></div>
<div class="line number42 index41 alt1"><code class="lua spaces">                 </code><code class="lua comments">-- 計算物體是否移動</code></div>
<div class="line number43 index42 alt2"><code class="lua spaces">                 </code><code class="lua keyword">if</code> <code class="lua plain">d &lt; 0.0001 </code><code class="lua keyword">then</code></div>
<div class="line number44 index43 alt1"><code class="lua spaces">                     </code><code class="lua plain">sim.setObjectInt32Param(shape, sim.shapeintparam_static, 1)</code></div>
<div class="line number45 index44 alt2"><code class="lua spaces">                     </code><code class="lua plain">sim.resetDynamicObject(shape)</code></div>
<div class="line number46 index45 alt1"><code class="lua spaces">                     </code><code class="lua plain">enabled = </code><code class="lua keyword">false</code></div>
<div class="line number47 index46 alt2"><code class="lua spaces">                     </code><code class="lua comments">-- 如果物體沒有移動，將其設為靜態</code></div>
<div class="line number48 index47 alt1"><code class="lua spaces">                 </code><code class="lua keyword">end</code></div>
<div class="line number49 index48 alt2"><code class="lua spaces">                 </code><code class="lua plain">previousPos = p</code></div>
<div class="line number50 index49 alt1"><code class="lua spaces">             </code><code class="lua keyword">end</code></div>
<div class="line number51 index50 alt2"><code class="lua spaces">         </code><code class="lua keyword">end</code></div>
<div class="line number52 index51 alt1"><code class="lua spaces">     </code><code class="lua keyword">end</code></div>
<div class="line number53 index52 alt2"><code class="lua spaces">     </code><code class="lua plain">notFirstPass = </code><code class="lua keyword">true</code></div>
<div class="line number54 index53 alt1"><code class="lua keyword">end</code></div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<h2>magnet</h2>
<p>利用 Lua 模擬磁力的程式碼:</p>
<div>
<div class="syntaxhighlighter lua" id="highlighter_36563">
<table border="0" cellpadding="0" cellspacing="0">
<tbody>
<tr>
<td class="gutter">
<div class="line number1 index0 alt2">1</div>
<div class="line number2 index1 alt1">2</div>
<div class="line number3 index2 alt2">3</div>
<div class="line number4 index3 alt1">4</div>
<div class="line number5 index4 alt2">5</div>
<div class="line number6 index5 alt1">6</div>
<div class="line number7 index6 alt2">7</div>
<div class="line number8 index7 alt1">8</div>
<div class="line number9 index8 alt2">9</div>
<div class="line number10 index9 alt1">10</div>
<div class="line number11 index10 alt2">11</div>
<div class="line number12 index11 alt1">12</div>
<div class="line number13 index12 alt2">13</div>
<div class="line number14 index13 alt1">14</div>
<div class="line number15 index14 alt2">15</div>
<div class="line number16 index15 alt1">16</div>
<div class="line number17 index16 alt2">17</div>
<div class="line number18 index17 alt1">18</div>
<div class="line number19 index18 alt2">19</div>
<div class="line number20 index19 alt1">20</div>
<div class="line number21 index20 alt2">21</div>
<div class="line number22 index21 alt1">22</div>
<div class="line number23 index22 alt2">23</div>
<div class="line number24 index23 alt1">24</div>
<div class="line number25 index24 alt2">25</div>
<div class="line number26 index25 alt1">26</div>
<div class="line number27 index26 alt2">27</div>
<div class="line number28 index27 alt1">28</div>
<div class="line number29 index28 alt2">29</div>
<div class="line number30 index29 alt1">30</div>
<div class="line number31 index30 alt2">31</div>
<div class="line number32 index31 alt1">32</div>
<div class="line number33 index32 alt2">33</div>
<div class="line number34 index33 alt1">34</div>
<div class="line number35 index34 alt2">35</div>
<div class="line number36 index35 alt1">36</div>
<div class="line number37 index36 alt2">37</div>
<div class="line number38 index37 alt1">38</div>
<div class="line number39 index38 alt2">39</div>
<div class="line number40 index39 alt1">40</div>
<div class="line number41 index40 alt2">41</div>
<div class="line number42 index41 alt1">42</div>
<div class="line number43 index42 alt2">43</div>
<div class="line number44 index43 alt1">44</div>
<div class="line number45 index44 alt2">45</div>
<div class="line number46 index45 alt1">46</div>
<div class="line number47 index46 alt2">47</div>
<div class="line number48 index47 alt1">48</div>
<div class="line number49 index48 alt2">49</div>
<div class="line number50 index49 alt1">50</div>
<div class="line number51 index50 alt2">51</div>
<div class="line number52 index51 alt1">52</div>
<div class="line number53 index52 alt2">53</div>
<div class="line number54 index53 alt1">54</div>
<div class="line number55 index54 alt2">55</div>
<div class="line number56 index55 alt1">56</div>
<div class="line number57 index56 alt2">57</div>
<div class="line number58 index57 alt1">58</div>
<div class="line number59 index58 alt2">59</div>
<div class="line number60 index59 alt1">60</div>
<div class="line number61 index60 alt2">61</div>
<div class="line number62 index61 alt1">62</div>
<div class="line number63 index62 alt2">63</div>
<div class="line number64 index63 alt1">64</div>
<div class="line number65 index64 alt2">65</div>
<div class="line number66 index65 alt1">66</div>
<div class="line number67 index66 alt2">67</div>
<div class="line number68 index67 alt1">68</div>
<div class="line number69 index68 alt2">69</div>
<div class="line number70 index69 alt1">70</div>
<div class="line number71 index70 alt2">71</div>
<div class="line number72 index71 alt1">72</div>
<div class="line number73 index72 alt2">73</div>
<div class="line number74 index73 alt1">74</div>
<div class="line number75 index74 alt2">75</div>
<div class="line number76 index75 alt1">76</div>
<div class="line number77 index76 alt2">77</div>
<div class="line number78 index77 alt1">78</div>
<div class="line number79 index78 alt2">79</div>
<div class="line number80 index79 alt1">80</div>
<div class="line number81 index80 alt2">81</div>
<div class="line number82 index81 alt1">82</div>
<div class="line number83 index82 alt2">83</div>
<div class="line number84 index83 alt1">84</div>
<div class="line number85 index84 alt2">85</div>
<div class="line number86 index85 alt1">86</div>
<div class="line number87 index86 alt2">87</div>
<div class="line number88 index87 alt1">88</div>
<div class="line number89 index88 alt2">89</div>
<div class="line number90 index89 alt1">90</div>
<div class="line number91 index90 alt2">91</div>
<div class="line number92 index91 alt1">92</div>
<div class="line number93 index92 alt2">93</div>
<div class="line number94 index93 alt1">94</div>
<div class="line number95 index94 alt2">95</div>
<div class="line number96 index95 alt1">96</div>
<div class="line number97 index96 alt2">97</div>
<div class="line number98 index97 alt1">98</div>
<div class="line number99 index98 alt2">99</div>
<div class="line number100 index99 alt1">100</div>
<div class="line number101 index100 alt2">101</div>
<div class="line number102 index101 alt1">102</div>
<div class="line number103 index102 alt2">103</div>
<div class="line number104 index103 alt1">104</div>
<div class="line number105 index104 alt2">105</div>
<div class="line number106 index105 alt1">106</div>
<div class="line number107 index106 alt2">107</div>
<div class="line number108 index107 alt1">108</div>
<div class="line number109 index108 alt2">109</div>
<div class="line number110 index109 alt1">110</div>
<div class="line number111 index110 alt2">111</div>
<div class="line number112 index111 alt1">112</div>
<div class="line number113 index112 alt2">113</div>
<div class="line number114 index113 alt1">114</div>
<div class="line number115 index114 alt2">115</div>
<div class="line number116 index115 alt1">116</div>
<div class="line number117 index116 alt2">117</div>
<div class="line number118 index117 alt1">118</div>
<div class="line number119 index118 alt2">119</div>
<div class="line number120 index119 alt1">120</div>
<div class="line number121 index120 alt2">121</div>
<div class="line number122 index121 alt1">122</div>
<div class="line number123 index122 alt2">123</div>
<div class="line number124 index123 alt1">124</div>
<div class="line number125 index124 alt2">125</div>
<div class="line number126 index125 alt1">126</div>
</td>
<td class="code">
<div class="container">
<div class="line number1 index0 alt2"><code class="lua keyword">function</code> <code class="lua plain">sysCall_init()</code></div>
<div class="line number2 index1 alt1"> </div>
<div class="line number3 index2 alt2"><code class="lua comments">-- This line defines the beginning of a function called sysCall_init(). This function is a special callback function in CoppeliaSim that gets called once when the simulation starts.</code></div>
<div class="line number4 index3 alt1"> </div>
<div class="line number5 index4 alt2"><code class="lua spaces">    </code><code class="lua plain">sensor = sim.getObject(</code><code class="lua string">'./sensor'</code><code class="lua plain">)</code></div>
<div class="line number6 index5 alt1"> </div>
<div class="line number7 index6 alt2"><code class="lua comments">-- In this line, the script is getting a reference to an object named "sensor" in the simulation scene. This object is expected to exist within the same hierarchy as the script.</code></div>
<div class="line number8 index7 alt1"> </div>
<div class="line number9 index8 alt2"><code class="lua spaces">    </code><code class="lua plain">shape = sim.getObject(</code><code class="lua string">'.'</code><code class="lua plain">)</code></div>
<div class="line number10 index9 alt1"> </div>
<div class="line number11 index10 alt2"><code class="lua comments">-- Here, the script is getting a reference to the object where the script is attached. The dot . represents the current object.</code></div>
<div class="line number12 index11 alt1"> </div>
<div class="line number13 index12 alt2"><code class="lua spaces">    </code><code class="lua plain">sim.setObjectInt32Param(shape, sim.shapeintparam_static, 0)</code></div>
<div class="line number14 index13 alt1"> </div>
<div class="line number15 index14 alt2"><code class="lua comments">-- This line is setting an integer parameter for the "shape" object. Specifically, it's setting the sim.shapeintparam_static parameter to 0. This means that the "shape" object is initially not considered as a static object.</code></div>
<div class="line number16 index15 alt1"> </div>
<div class="line number17 index16 alt2"><code class="lua spaces">    </code><code class="lua plain">nominalForce = 0.001</code></div>
<div class="line number18 index17 alt1"> </div>
<div class="line number19 index18 alt2"><code class="lua comments">-- This line sets a variable nominalForce to a value of 0.001. It appears to represent a constant force value used in the script.</code></div>
<div class="line number20 index19 alt1"> </div>
<div class="line number21 index20 alt2"><code class="lua spaces">    </code><code class="lua plain">enabled = </code><code class="lua keyword">true</code></div>
<div class="line number22 index21 alt1"> </div>
<div class="line number23 index22 alt2"><code class="lua comments">-- This line initializes a boolean variable enabled to true. This variable seems to control whether the script should apply forces or not.</code></div>
<div class="line number24 index23 alt1"> </div>
<div class="line number25 index24 alt2"><code class="lua spaces">    </code><code class="lua plain">previousPos = sim.getObjectPosition(shape, sim.handle_world)</code></div>
<div class="line number26 index25 alt1"> </div>
<div class="line number27 index26 alt2"><code class="lua comments">-- Here, the script is getting the initial position of the "shape" object in the world coordinate system and storing it in the previousPos variable. This will be used later for checking if the object has moved.</code></div>
<div class="line number28 index27 alt1"> </div>
<div class="line number29 index28 alt2"><code class="lua comments">-- The sysCall_init function sets up initial parameters and conditions for the script. It's executed once at the beginning of the simulation.</code></div>
<div class="line number30 index29 alt1"> </div>
<div class="line number31 index30 alt2"><code class="lua comments">-- Now, let's move on to the sysCall_actuation function:</code></div>
<div class="line number32 index31 alt1"> </div>
<div class="line number33 index32 alt2"><code class="lua keyword">function</code> <code class="lua plain">sysCall_actuation()</code></div>
<div class="line number34 index33 alt1"> </div>
<div class="line number35 index34 alt2"><code class="lua comments">-- This line defines the beginning of another special callback function in CoppeliaSim called sysCall_actuation(). This function gets called repeatedly during the simulation to perform actions in each time step.</code></div>
<div class="line number36 index35 alt1"> </div>
<div class="line number37 index36 alt2"><code class="lua spaces">    </code><code class="lua keyword">if</code> <code class="lua plain">enabled </code><code class="lua keyword">then</code></div>
<div class="line number38 index37 alt1"> </div>
<div class="line number39 index38 alt2"><code class="lua comments">-- This line checks if the enabled variable is true. If it's true, it means the script should apply forces. If it's false, the script won't apply any forces.</code></div>
<div class="line number40 index39 alt1"> </div>
<div class="line number41 index40 alt2"><code class="lua spaces">        </code><code class="lua keyword">local</code> <code class="lua plain">r, dist, pt, obj = sim.handleProximitySensor(sensor)</code></div>
<div class="line number42 index41 alt1"> </div>
<div class="line number43 index42 alt2"><code class="lua comments">-- Here, the script is using the sim.handleProximitySensor function to check if the proximity sensor (defined earlier as "sensor") is detecting any objects nearby. It returns information about the detected object.</code></div>
<div class="line number44 index43 alt1"> </div>
<div class="line number45 index44 alt2"><code class="lua spaces">        </code><code class="lua keyword">if</code> <code class="lua plain">r &gt; 0 </code><code class="lua keyword">then</code></div>
<div class="line number46 index45 alt1"> </div>
<div class="line number47 index46 alt2"><code class="lua comments">-- This line checks if r (the return value of the proximity sensor function) is greater than 0. If it is, it means the sensor has detected an object nearby.</code></div>
<div class="line number48 index47 alt1"> </div>
<div class="line number49 index48 alt2"><code class="lua spaces">            </code><code class="lua plain">dist = dist + 0.02</code></div>
<div class="line number50 index49 alt1"> </div>
<div class="line number51 index50 alt2"><code class="lua comments">-- This line adds an offset of 0.02 to the dist variable. This offset is added to prevent an infinite force when objects are in direct contact. It's a safety measure.</code></div>
<div class="line number52 index51 alt1"> </div>
<div class="line number53 index52 alt2"><code class="lua spaces">            </code><code class="lua keyword">local</code> <code class="lua plain">force = nominalForce / (dist * dist)</code></div>
<div class="line number54 index53 alt1"> </div>
<div class="line number55 index54 alt2"><code class="lua comments">-- Here, the script calculates the force to be applied based on the nominalForce and the squared distance (dist) between the object and the detected object. This seems to be a simple inverse square law force calculation.</code></div>
<div class="line number56 index55 alt1"> </div>
<div class="line number57 index56 alt2"><code class="lua spaces">            </code><code class="lua keyword">local</code> <code class="lua plain">m = sim.getObjectMatrix(shape, sim.handle_world)</code></div>
<div class="line number58 index57 alt1"><code class="lua spaces">            </code><code class="lua plain">m[4] = 0</code></div>
<div class="line number59 index58 alt2"><code class="lua spaces">            </code><code class="lua plain">m[8] = 0</code></div>
<div class="line number60 index59 alt1"><code class="lua spaces">            </code><code class="lua plain">m[12] = 0</code></div>
<div class="line number61 index60 alt2"> </div>
<div class="line number62 index61 alt1"><code class="lua comments">-- These lines retrieve the transformation matrix (m) of the "shape" object with respect to the world coordinate system and set its translational components to 0. This effectively extracts the rotational part of the transformation matrix.</code></div>
<div class="line number63 index62 alt2"> </div>
<div class="line number64 index63 alt1"><code class="lua spaces">            </code><code class="lua keyword">local</code> <code class="lua plain">forceVector = sim.multiplyVector(m, {0, 0, force})</code></div>
<div class="line number65 index64 alt2"> </div>
<div class="line number66 index65 alt1"><code class="lua comments">-- This line multiplies the modified transformation matrix m by a force vector {0, 0, force} to obtain a force vector in absolute world coordinates.</code></div>
<div class="line number67 index66 alt2"> </div>
<div class="line number68 index67 alt1"><code class="lua spaces">            </code><code class="lua plain">sim.addForceAndTorque(shape, forceVector, {0, 0, 0})</code></div>
<div class="line number69 index68 alt2"> </div>
<div class="line number70 index69 alt1"><code class="lua comments">-- Here, the script applies the computed forceVector to the "shape" object using sim.addForceAndTorque. This function applies the force to the center of mass of the object for one simulation time step.</code></div>
<div class="line number71 index70 alt2"> </div>
<div class="line number72 index71 alt1"><code class="lua spaces">            </code><code class="lua keyword">if</code> <code class="lua plain">notFirstPass </code><code class="lua keyword">then</code></div>
<div class="line number73 index72 alt2"> </div>
<div class="line number74 index73 alt1"><code class="lua comments">-- This line checks if the notFirstPass variable is true. It's used to ensure that this part of the script is executed after the first simulation step.</code></div>
<div class="line number75 index74 alt2"> </div>
<div class="line number76 index75 alt1"><code class="lua spaces">                </code><code class="lua keyword">local</code> <code class="lua plain">p = sim.getObjectPosition(shape, sim.handle_world)</code></div>
<div class="line number77 index76 alt2"> </div>
<div class="line number78 index77 alt1"><code class="lua comments">-- Here, the script is getting the current position of the "shape" object in the world coordinate system.</code></div>
<div class="line number79 index78 alt2"> </div>
<div class="line number80 index79 alt1"><code class="lua spaces">                </code><code class="lua keyword">local</code> <code class="lua plain">dx = {p[1] - previousPos[1], p[2] - previousPos[2], p[3] - previousPos[3]}</code></div>
<div class="line number81 index80 alt2"> </div>
<div class="line number82 index81 alt1"><code class="lua comments">-- This line calculates the difference in position (dx) between the current position (p) and the previous position (previousPos) of the object in world coordinates.</code></div>
<div class="line number83 index82 alt2"> </div>
<div class="line number84 index83 alt1"><code class="lua spaces">                </code><code class="lua keyword">local</code> <code class="lua plain">d = </code><code class="lua functions">math.sqrt</code><code class="lua plain">(dx[1] * dx[1] + dx[2] * dx[2] + dx[3] * dx[3])</code></div>
<div class="line number85 index84 alt2"> </div>
<div class="line number86 index85 alt1"><code class="lua comments">-- The script calculates the Euclidean distance d based on the differences in position components dx. This distance is used to check if the object has moved significantly.</code></div>
<div class="line number87 index86 alt2"> </div>
<div class="line number88 index87 alt1"><code class="lua spaces">                </code><code class="lua keyword">if</code> <code class="lua plain">d &lt; 0.0001 </code><code class="lua keyword">then</code></div>
<div class="line number89 index88 alt2"> </div>
<div class="line number90 index89 alt1"><code class="lua comments">-- This line checks if the object has moved by comparing d to a small threshold value (0.0001). If d is less than the threshold, it means the object hasn't moved significantly.</code></div>
<div class="line number91 index90 alt2"> </div>
<div class="line number92 index91 alt1"><code class="lua spaces">                    </code><code class="lua plain">sim.setObjectInt32Param(shape, sim.shapeintparam_static, 1)</code></div>
<div class="line number93 index92 alt2"> </div>
<div class="line number94 index93 alt1"><code class="lua comments">-- If the object hasn't moved significantly, this line sets the sim.shapeintparam_static parameter to 1, making the object static in the simulation.</code></div>
<div class="line number95 index94 alt2"> </div>
<div class="line number96 index95 alt1"><code class="lua spaces">                    </code><code class="lua plain">sim.resetDynamicObject(shape)</code></div>
<div class="line number97 index96 alt2"> </div>
<div class="line number98 index97 alt1"><code class="lua comments">-- This line resets the dynamics of the object. It might be necessary to reset the object's dynamics after making it static to avoid any issues.</code></div>
<div class="line number99 index98 alt2"> </div>
<div class="line number100 index99 alt1"><code class="lua spaces">                    </code><code class="lua plain">enabled = </code><code class="lua keyword">false</code></div>
<div class="line number101 index100 alt2"> </div>
<div class="line number102 index101 alt1"><code class="lua comments">-- Finally, this line sets the enabled variable to false, which will prevent the script from applying further forces since the object is now considered static and not moving.</code></div>
<div class="line number103 index102 alt2"> </div>
<div class="line number104 index103 alt1"><code class="lua spaces">                </code><code class="lua keyword">end</code></div>
<div class="line number105 index104 alt2"> </div>
<div class="line number106 index105 alt1"><code class="lua comments">-- The if block is closed.</code></div>
<div class="line number107 index106 alt2"> </div>
<div class="line number108 index107 alt1"><code class="lua spaces">                </code><code class="lua plain">previousPos = p</code></div>
<div class="line number109 index108 alt2"> </div>
<div class="line number110 index109 alt1"><code class="lua comments">-- Regardless of whether the object has become static or not, the previousPos variable is updated with the current position for use in the next iteration of the sysCall_actuation function.</code></div>
<div class="line number111 index110 alt2"> </div>
<div class="line number112 index111 alt1"><code class="lua spaces">            </code><code class="lua keyword">end</code></div>
<div class="line number113 index112 alt2"> </div>
<div class="line number114 index113 alt1"><code class="lua comments">-- The if notFirstPass block is closed.</code></div>
<div class="line number115 index114 alt2"> </div>
<div class="line number116 index115 alt1"><code class="lua spaces">        </code><code class="lua keyword">end</code></div>
<div class="line number117 index116 alt2"> </div>
<div class="line number118 index117 alt1"><code class="lua comments">-- The if r &gt; 0 block is closed.</code></div>
<div class="line number119 index118 alt2"> </div>
<div class="line number120 index119 alt1"><code class="lua spaces">    </code><code class="lua keyword">end</code></div>
<div class="line number121 index120 alt2"> </div>
<div class="line number122 index121 alt1"><code class="lua comments">-- The if enabled block is closed.</code></div>
<div class="line number123 index122 alt2"> </div>
<div class="line number124 index123 alt1"><code class="lua spaces">    </code><code class="lua plain">notFirstPass = </code><code class="lua keyword">true</code></div>
<div class="line number125 index124 alt2"> </div>
<div class="line number126 index125 alt1"><code class="lua comments">-- This line sets the notFirstPass variable to `true</code></div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<h2>馬達推動</h2>
<p>除了利用磁力吸引, 讓鋼球在軌道運動時能具備足夠動能返回圓形平台外, 另外一種設計是在鋼球 (或其他非鐵材質的圓球) 離開圓形平台孔洞之後, 設法利用隱藏式的馬達帶動機構, 以滾動方式加速圓球, 以便讓圓球返回平台.</p>
<p>有關馬達推動設計, 請參考:<span> </span><a href="https://www.instructables.com/Marblevator-Perpetual/">https://www.instructables.com/Marblevator-Perpetual/</a><span> </span>或<a href="https://youtu.be/xVVpSp6_4iA?si=bpHoiIf-syLPORvT">這個影片</a>.</p>
<p>機電模擬系統:</p>
<p>下載<span> </span><a href="https://nfuedu-my.sharepoint.com/:u:/g/personal/yen_nfu_edu_tw/EfEaYO4E4eBGtTV3QBCP0f0B3JBfrw11LslWmQyqZB75fw?e=Zf7hCp">CoppeliaSimEdu_4.5.1_rev4_for_cd2023.7z</a><span> </span>(需要下載密碼)</p>
<p><a href="https://www.coppeliarobotics.com/helpFiles/">CoppeliaSim 使用者手冊</a>,<span> </span><a href="https://mde.tw/pjcopsim">CoppeliaSim 4.3.0 使用手冊網站</a></p>
<h1>網路設定</h1>
<div id="tipue_search_content">
<p>由於電腦輔助設計室某部分套件, 在 IPv4 網路環境下會被防毒軟體偵測到封包異常而封閉網路, 因此以下將 IPv4 網路關閉, 僅使用 IPv6, 並透過雙網路協定支援的代理主機設定, 以便與僅支援 IPv4 的網路主機連線.</p>
<p>利用隨身碟上的批次檔案進行電腦輔助設計室網路環境設定 (<a href="https://nfuedu-my.sharepoint.com/:v:/g/personal/yen_nfu_edu_tw/Ed9GeWN75kJDmWsdXEeEDukBetqQ1g_3tA_PoIY-dHXDgw?nav=eyJyZWZlcnJhbEluZm8iOnsicmVmZXJyYWxBcHAiOiJPbmVEcml2ZUZvckJ1c2luZXNzIiwicmVmZXJyYWxBcHBQbGF0Zm9ybSI6IldlYiIsInJlZmVycmFsTW9kZSI6InZpZXciLCJyZWZlcnJhbFZpZXciOiJNeUZpbGVzTGlua0RpcmVjdCJ9fQ&amp;e=e6bNYA">設定影片</a>):</p>
<p>1_cadlab_network_setup.bat</p>
<div>
<div class="syntaxhighlighter js" id="highlighter_671160">
<table border="0" cellpadding="0" cellspacing="0">
<tbody>
<tr>
<td class="gutter">
<div class="line number1 index0 alt2">1</div>
<div class="line number2 index1 alt1">2</div>
<div class="line number3 index2 alt2">3</div>
<div class="line number4 index3 alt1">4</div>
<div class="line number5 index4 alt2">5</div>
</td>
<td class="code">
<div class="container">
<div class="line number1 index0 alt2"><code class="js plain">echo </code><code class="js string">"disable ipv4 and setup proxy for ipv6"</code></div>
<div class="line number2 index1 alt1"><code class="js plain">SET CurrentDir=%~dp0</code></div>
<div class="line number3 index2 alt2"><code class="js plain">%windir%\system32\reg.exe import %CurrentDir%1_2023_cadlab_network_setup.reg</code></div>
<div class="line number4 index3 alt1"><code class="js plain">powershell -executionpolicy bypass -File %CurrentDir%1_disable_ipv4.ps1</code></div>
<div class="line number5 index4 alt2"><code class="js plain">exit</code></div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>1_2023_cadlab_network_setup.reg</p>
<p>關閉自動搜尋代理主機, 自行設定代理主機外, 對近端與 NAT 內部 IPv4 網址不使用 proxy server, 若 proxy server 採 domain name 設定則當 IPv4 網路協定啟動時, 亦可透過代理主機連線.</p>
<div>
<div class="syntaxhighlighter js" id="highlighter_180818">
<table border="0" cellpadding="0" cellspacing="0">
<tbody>
<tr>
<td class="gutter">
<div class="line number1 index0 alt2">1</div>
<div class="line number2 index1 alt1">2</div>
<div class="line number3 index2 alt2">3</div>
<div class="line number4 index3 alt1">4</div>
<div class="line number5 index4 alt2">5</div>
<div class="line number6 index5 alt1">6</div>
<div class="line number7 index6 alt2">7</div>
<div class="line number8 index7 alt1">8</div>
<div class="line number9 index8 alt2">9</div>
<div class="line number10 index9 alt1">10</div>
<div class="line number11 index10 alt2">11</div>
</td>
<td class="code">
<div class="container">
<div class="line number1 index0 alt2"><code class="js plain">Windows Registry Editor Version 5.00</code></div>
<div class="line number2 index1 alt1"> </div>
<div class="line number3 index2 alt2"><code class="js spaces"> </code><code class="js plain">[HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\Internet Settings]</code></div>
<div class="line number4 index3 alt1"><code class="js spaces"> </code><code class="js plain">; disable AutoDetect</code></div>
<div class="line number5 index4 alt2"><code class="js string">"AutoDetect"</code><code class="js plain">=dword:00000000</code></div>
<div class="line number6 index5 alt1"><code class="js string">"MigrateProxy"</code><code class="js plain">=dword:00000001</code></div>
<div class="line number7 index6 alt2"><code class="js plain">; enable Proxy</code></div>
<div class="line number8 index7 alt1"><code class="js string">"ProxyEnable"</code><code class="js plain">=dword:00000001 </code></div>
<div class="line number9 index8 alt2"><code class="js string">"ProxyHttp1.1"</code><code class="js plain">=dword:00000000 </code></div>
<div class="line number10 index9 alt1"><code class="js string">"ProxyServer"</code><code class="js plain">=</code><code class="js string">"http://p4.cycu.org:3128"</code></div>
<div class="line number11 index10 alt2"><code class="js string">"ProxyOverride"</code><code class="js plain">=</code><code class="js string">"localhost;192.168.1.0/24;&lt;local&gt;"</code></div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>1_disable_ipv4.ps1</p>
<p>僅啟動 IPv6 網路協定, 且將 dns server 指向 hinet.</p>
<div>
<div class="syntaxhighlighter js" id="highlighter_590423">
<table border="0" cellpadding="0" cellspacing="0">
<tbody>
<tr>
<td class="gutter">
<div class="line number1 index0 alt2">1</div>
<div class="line number2 index1 alt1">2</div>
<div class="line number3 index2 alt2">3</div>
<div class="line number4 index3 alt1">4</div>
<div class="line number5 index4 alt2">5</div>
<div class="line number6 index5 alt1">6</div>
<div class="line number7 index6 alt2">7</div>
<div class="line number8 index7 alt1">8</div>
<div class="line number9 index8 alt2">9</div>
<div class="line number10 index9 alt1">10</div>
<div class="line number11 index10 alt2">11</div>
<div class="line number12 index11 alt1">12</div>
<div class="line number13 index12 alt2">13</div>
<div class="line number14 index13 alt1">14</div>
<div class="line number15 index14 alt2">15</div>
<div class="line number16 index15 alt1">16</div>
<div class="line number17 index16 alt2">17</div>
<div class="line number18 index17 alt1">18</div>
<div class="line number19 index18 alt2">19</div>
<div class="line number20 index19 alt1">20</div>
<div class="line number21 index20 alt2">21</div>
<div class="line number22 index21 alt1">22</div>
<div class="line number23 index22 alt2">23</div>
<div class="line number24 index23 alt1">24</div>
<div class="line number25 index24 alt2">25</div>
<div class="line number26 index25 alt1">26</div>
<div class="line number27 index26 alt2">27</div>
<div class="line number28 index27 alt1">28</div>
</td>
<td class="code">
<div class="container">
<div class="line number1 index0 alt2"><code class="js preprocessor"># 關閉 IPv4 網路</code></div>
<div class="line number2 index1 alt1"><code class="js plain">Disable-NetAdapterBinding -Name </code><code class="js string">"*"</code> <code class="js plain">-ComponentID ms_tcpip</code></div>
<div class="line number3 index2 alt2"><code class="js spaces">  </code> </div>
<div class="line number4 index3 alt1"><code class="js preprocessor"># 啟用 IPv6 網路</code></div>
<div class="line number5 index4 alt2"><code class="js plain">Enable-NetAdapterBinding -Name </code><code class="js string">"*"</code> <code class="js plain">-ComponentID ms_tcpip6</code></div>
<div class="line number6 index5 alt1"><code class="js spaces">  </code> </div>
<div class="line number7 index6 alt2"><code class="js preprocessor"># 設置 IPv6 網路中的兩個 DNS 伺服器 (hinet)</code></div>
<div class="line number8 index7 alt1"><code class="js plain">$dnsServers = </code><code class="js string">"2001:b000:168::1"</code><code class="js plain">, </code><code class="js string">"2001:b000:168::2"</code></div>
<div class="line number9 index8 alt2"><code class="js plain">Set-DnsClientServerAddress -InterfaceAlias </code><code class="js string">"*"</code> <code class="js plain">-ServerAddresses $dnsServers</code></div>
<div class="line number10 index9 alt1"> </div>
<div class="line number11 index10 alt2"> </div>
<div class="line number12 index11 alt1"><code class="js preprocessor"># 設定 IPv6 固定位址 (fixed address), 子網路首碼長度 (subnet prefix) 與網路預設閘道 (gateway) 等三個變數</code></div>
<div class="line number13 index12 alt2"><code class="js plain">$ipv6Address = </code><code class="js string">"2001:288:6004:17:請使用個人所分配到的 IPv6 位址"</code></div>
<div class="line number14 index13 alt1"><code class="js plain">$subnetPrefixLength = 64</code></div>
<div class="line number15 index14 alt2"><code class="js plain">$gateway = </code><code class="js string">"2001:288:6004:17::254"</code></div>
<div class="line number16 index15 alt1"><code class="js spaces"> </code> </div>
<div class="line number17 index16 alt2"><code class="js preprocessor"># 參考 https://serverfault.com/questions/427234/getting-network-interface-device-name-in-powershell</code></div>
<div class="line number18 index17 alt1"><code class="js plain">$query = </code><code class="js string">"SELECT * FROM Win32_NetworkAdapter WHERE Manufacturer != 'Microsoft' AND NOT PNPDeviceID LIKE 'ROOT\\%'"</code></div>
<div class="line number19 index18 alt2"><code class="js plain">$interfaces = Get-WmiObject -Query $query | Sort index</code></div>
<div class="line number20 index19 alt1"><code class="js plain">$interfaces | ForEach{</code></div>
<div class="line number21 index20 alt2"><code class="js spaces">    </code><code class="js plain">$friendlyname = $_ | ForEach-Object { $_.NetConnectionID }</code></div>
<div class="line number22 index21 alt1"><code class="js spaces">    </code><code class="js plain">New-NetIPAddress -AddressFamily </code><code class="js string">"IPv6"</code> <code class="js plain">-InterfaceAlias $friendlyname -IPAddress $ipv6Address -PrefixLength $subnetPrefixLength -DefaultGateway $gateway</code></div>
<div class="line number23 index22 alt2"><code class="js plain">}</code></div>
<div class="line number24 index23 alt1"> </div>
<div class="line number25 index24 alt2"><code class="js spaces"> </code> </div>
<div class="line number26 index25 alt1"><code class="js preprocessor"># 列出所使用的 IPv6 網路通訊協定內容</code></div>
<div class="line number27 index26 alt2"><code class="js plain">Write-Host </code><code class="js string">"IPv6 Address: $ipv6Address/$subnetPrefixLength"</code></div>
<div class="line number28 index27 alt1"><code class="js plain">Write-Host </code><code class="js string">"IPv6 Gateway: $gateway"</code></div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>下載<span> </span><a href="https://nfuedu-my.sharepoint.com/:u:/g/personal/yen_nfu_edu_tw/EU-PdLegiEFAoTlO_yKCXTcB6iUdp0beiWj-9_DIWMoSgQ?e=qCEtYU">cad2023_network_setup.7z</a><span> </span>(需要下載密碼), 必須以管理者身分執行批次檔案, 因為要藉此身分關閉 IPv4 網路協定.</p>
<p>下載<span> </span><a href="https://nfuedu-my.sharepoint.com/:u:/g/personal/yen_nfu_edu_tw/Eck0KdLe1uZEk_LJ2tkEf4ABZyW32cmq5WZVl52Fww9C2A?e=i5Dm3t">2023_fall_w7_cadlab_network_setup.7z</a> <span>(需要下載密碼), 必須先放入個人所分配到的 IPv6 位址後, 以管理者身分執行批次檔案, 就能直接完成電腦輔助設計室中電腦的網路連線設定.</span></p>
<p><span>各學員所分配的固定 IPv6 位址如下:</span></p>
<p>2a 學員展示用 IPv6 位址: 2001:288:6004:17:2023:cada::<a href="https://mde.tw/cadnote/content/Brython.html?src=https://gist.githubusercontent.com/mdecycu/9215c7c160119721ded887018cda8f4e/raw/afc0e4d2267199743ac44bc7aeb0c4b195a30abb/generate_cad2023_2a_site_repo.py">班級名單序號</a></p>
<p><span>2b 學員展示用 IPv6 位址: 2001:288:6004:17:2023:cadb::</span><a href="https://mde.tw/cadnote/content/Brython.html?src=https://gist.githubusercontent.com/mdecycu/9215c7c160119721ded887018cda8f4e/raw/afc0e4d2267199743ac44bc7aeb0c4b195a30abb/generate_cad2023_2b_site_repo.py">班級名單序號</a></p>
<br/>w15 &lt;&lt;<span> </span><a href="https://mde.tw/cadnote/content/w15.html">Previous</a><span> </span><a href="https://mde.tw/cadnote/content/exam.html">Next</a><span> </span>&gt;&gt; exam</div>
<div class="container">
<div class="row pt-3 mx-auto">
<p>Copyright ©2024 All rights reserved | This template is made with<span> </span><i aria-hidden="true" class="icon-heart"></i><span> </span>by<span> </span><a href="https://colorlib.com/" target="_blank">Colorlib</a></p>
<h1>課程總結</h1>
<p>標題：電腦輔助設計與實習心得</p>
<p>日期：[1/11]</p>
<h2>簡介</h2>
<p>在這段時間內，我有幸參與了一場電腦輔助設計的實習，透過這次經驗，我深刻體會到了電腦輔助設計的重要性以及對於實際工作的裨益。以下是我在實習過程中的心得分享。</p>
<h2>背景</h2>
<p>我進行的實習是在一家工程設計公司，主要負責電腦輔助設計領域的相關任務。這包括使用各種設計軟體來協助產品設計和模擬，提高設計效率和確保產品的品質。</p>
<h2>學習與成長</h2>
<h3>1. 軟體技能提升</h3>
<p>透過這次實習，我得以深入學習並熟練使用了許多先進的電腦輔助設計軟體，例如SolidWorks、AutoCAD等。這些工具不僅提高了我的設計能力，還讓我能夠更加靈活地應對各種複雜的設計挑戰。</p>
<h3>2. 團隊合作</h3>
<p>在公司中，我參與了多個團隊項目，這促使我與其他設計師、工程師和專業人員進行有效的溝通和合作。這不僅擴展了我的人際交往能力，也提升了我在團隊中發揮協同作用的能力。</p>
<h3>3. 解決問題的能力</h3>
<p>在實際的設計工作中，我遇到了許多挑戰和問題，這促使我不斷學習和改進。透過與同事的討論和尋求專業指導，我學會了如何快速而有效地解決各種技術和設計上的問題。</p>
<h2>意義與啟示</h2>
<h3>1. 技能轉換</h3>
<p>這次實習不僅加強了我在電腦輔助設計方面的技能，還啟發我思考如何將這些技能應用於其他領域。我相信這樣的技能轉換將對我的未來職業生涯產生深遠的影響。</p>
<h3>2. 專業發展</h3>
<p>這次實習為我提供了一個寶貴的機會，讓我更深入地了解了我所選擇的專業領域。這將有助於我制定更清晰的職業發展計劃，確保我在未來的職業生涯中更有針對性地發展自己的技能和專業知識。</p>
<h2>結語</h2>
<p>這段時間的電腦輔助設計實習經歷，不僅讓我學到了豐富的知識，還讓我更加深刻地體會到設計在現代科技發展中的不可或缺性。我將這次的實習視為我職業生涯中的一個重要里程碑，並期待能夠將所學應用於未來的挑戰之中。</p>
</div>
</div>
</div>
</div>
</div>